{"version":3,"file":"tambo-stubs.js","sourceRoot":"","sources":["../../src/providers/tambo-stubs.tsx"],"names":[],"mappings":"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","sourcesContent":["\"use client\";\nimport TamboAI from \"@tambo-ai/typescript-sdk\";\nimport { QueryClient } from \"@tanstack/react-query\";\nimport React, { PropsWithChildren, useEffect } from \"react\";\nimport {\n  TamboComponent,\n  TamboTool,\n  TamboToolRegistry,\n} from \"../model/component-metadata\";\nimport { GenerationStage } from \"../model/generate-component-response\";\nimport { TamboThread } from \"../model/tambo-thread\";\nimport { TamboClientContext } from \"./tambo-client-provider\";\nimport {\n  TamboComponentContextProps,\n  TamboComponentProvider,\n} from \"./tambo-component-provider\";\nimport { TamboContextAttachmentProvider } from \"./tambo-context-attachment-provider\";\nimport {\n  TamboContextHelpersProvider,\n  TamboContextHelpersProviderProps,\n} from \"./tambo-context-helpers-provider\";\nimport { TamboInteractableProvider } from \"./tambo-interactable-provider\";\nimport {\n  TamboCompositeProvider,\n  type TamboContextProps,\n} from \"./tambo-provider\";\nimport { TamboRegistryContext } from \"./tambo-registry-provider\";\nimport {\n  TamboGenerationStageProvider,\n  TamboThreadContext,\n  TamboThreadContextProps,\n} from \"./tambo-thread-provider\";\n\n/**\n * TamboStubProvider props - includes all the data that would normally be inferred\n */\nexport interface TamboStubProviderProps extends Partial<TamboContextProps> {\n  /** Required: The thread data to display */\n  thread: TamboThread;\n  /** Optional: Components registry - defaults to empty */\n  components?: TamboComponent[];\n  /** Optional: Tools registry - defaults to empty */\n  tools?: TamboTool[];\n  /** Optional: Threads data to populate thread list - overrides useTamboThreadList() */\n  threads?: Partial<TamboAI.Beta.Threads.ThreadsOffsetAndLimit>;\n  /** Optional: Project ID to use for query cache - defaults to thread.projectId */\n  projectId?: string;\n  /** Optional: Context key for thread list queries */\n  contextKey?: string;\n  /** Optional: Configuration for which context helpers are enabled/disabled */\n  contextHelpers?: TamboContextHelpersProviderProps[\"contextHelpers\"];\n}\n\n/**\n * Stub client provider that accepts a client and queryClient as props\n * @returns The TamboStubClientProvider component\n */\nconst TamboStubClientProvider: React.FC<\n  PropsWithChildren<{\n    client: TamboAI;\n    queryClient: QueryClient;\n    isUpdatingToken: boolean;\n    threads?: Partial<TamboAI.Beta.Threads.ThreadsOffsetAndLimit>;\n    projectId?: string;\n    contextKey?: string;\n  }>\n> = ({\n  children,\n  client,\n  queryClient,\n  threads,\n  projectId,\n  contextKey,\n  isUpdatingToken,\n}) => {\n  // Prepopulate the query cache with threads data if provided\n  useEffect(() => {\n    if (threads) {\n      // Set the project ID in the cache\n      queryClient.setQueryData([\"projectId\"], projectId);\n\n      // Set the threads data in the cache using the same query key pattern as useTamboThreadList\n      queryClient.setQueryData([\"threads\", projectId, contextKey], threads);\n    }\n  }, [threads, projectId, contextKey, queryClient]);\n\n  return (\n    <TamboClientContext.Provider\n      value={{\n        client,\n        queryClient,\n        isUpdatingToken,\n      }}\n    >\n      {children}\n    </TamboClientContext.Provider>\n  );\n};\n\n/**\n * Stub registry provider that accepts componentList, toolRegistry, and componentToolAssociations as props\n * @returns The TamboStubRegistryProvider component\n */\nconst TamboStubRegistryProvider: React.FC<\n  PropsWithChildren<\n    Pick<\n      TamboRegistryContext,\n      | \"componentList\"\n      | \"toolRegistry\"\n      | \"componentToolAssociations\"\n      | \"registerComponent\"\n      | \"registerTool\"\n      | \"registerTools\"\n      | \"addToolAssociation\"\n    >\n  >\n> = ({\n  children,\n  componentList,\n  toolRegistry,\n  componentToolAssociations,\n  registerComponent,\n  registerTool,\n  registerTools,\n  addToolAssociation,\n}) => {\n  return (\n    <TamboRegistryContext.Provider\n      value={{\n        componentList,\n        toolRegistry,\n        componentToolAssociations,\n        mcpServerInfos: [],\n        resources: [],\n        resourceSource: null,\n        registerComponent,\n        registerTool,\n        registerTools,\n        addToolAssociation,\n        registerMcpServer: () => {},\n        registerMcpServers: () => {},\n        registerResource: () => {},\n        registerResources: () => {},\n        registerResourceSource: () => {},\n      }}\n    >\n      {children}\n    </TamboRegistryContext.Provider>\n  );\n};\n\n/**\n * Stub thread provider that accepts all thread context props\n * @returns The TamboStubThreadProvider component\n */\nconst TamboStubThreadProvider: React.FC<\n  PropsWithChildren<TamboThreadContextProps>\n> = ({ children, ...threadContextProps }) => {\n  // Extract generation stage info from the thread\n  const generationStage =\n    (threadContextProps.thread?.generationStage as GenerationStage) ??\n    GenerationStage.IDLE;\n  const statusMessage = threadContextProps.thread?.statusMessage ?? \"\";\n\n  return (\n    <TamboThreadContext.Provider value={threadContextProps}>\n      <TamboGenerationStageProvider\n        generationStage={generationStage}\n        statusMessage={statusMessage}\n      >\n        {children}\n      </TamboGenerationStageProvider>\n    </TamboThreadContext.Provider>\n  );\n};\n\n/**\n * Default no-op functions that throw errors - used when callbacks are not provided\n * @returns The default callbacks\n */\nconst createDefaultCallbacks = () => ({\n  switchCurrentThread: () => {\n    throw new Error(\"switchCurrentThread not implemented in stub\");\n  },\n  startNewThread: () => {\n    throw new Error(\"startNewThread not implemented in stub\");\n  },\n  updateThreadName: () => {\n    throw new Error(\"updateThreadName not implemented in stub\");\n  },\n  generateThreadName: () => {\n    throw new Error(\"generateThreadName not implemented in stub\");\n  },\n  addThreadMessage: () => {\n    throw new Error(\"addThreadMessage not implemented in stub\");\n  },\n  updateThreadMessage: () => {\n    throw new Error(\"updateThreadMessage not implemented in stub\");\n  },\n  setInputValue: () => {\n    throw new Error(\"setInputValue not implemented in stub\");\n  },\n  sendThreadMessage: () => {\n    throw new Error(\"sendThreadMessage not implemented in stub\");\n  },\n  registerComponent: () => {\n    throw new Error(\"registerComponent not implemented in stub\");\n  },\n  registerTool: () => {\n    throw new Error(\"registerTool not implemented in stub\");\n  },\n  registerTools: () => {\n    throw new Error(\"registerTools not implemented in stub\");\n  },\n  addToolAssociation: () => {\n    throw new Error(\"addToolAssociation not implemented in stub\");\n  },\n  cancel: () => {\n    throw new Error(\"cancel not implemented in stub\");\n  },\n});\n\n/**\n * The TamboStubProvider provides a way to use the Tambo API with static/stub data.\n * This is useful for testing, samples, and static UI development.\n *\n * Unlike TamboProvider, all data must be provided as props rather than being inferred.\n * @example\n * ```tsx\n * import { TamboStubProvider } from '@tambo-ai/react-sdk';\n *\n * const exampleThread = {\n *   id: \"example-thread\",\n *   messages: [\n *     {\n *       id: \"msg-1\",\n *       role: \"user\",\n *       content: [{ type: \"text\", text: \"Hello!\" }],\n *       createdAt: new Date().toISOString(),\n *       threadId: \"example-thread\",\n *       componentState: {},\n *     },\n *     {\n *       id: \"msg-2\",\n *       role: \"assistant\",\n *       content: [{ type: \"text\", text: \"Hi there!\" }],\n *       createdAt: new Date().toISOString(),\n *       threadId: \"example-thread\",\n *       componentState: {},\n *     }\n *   ],\n *   createdAt: new Date().toISOString(),\n *   projectId: \"example-project\",\n *   updatedAt: new Date().toISOString(),\n *   metadata: {},\n * };\n *\n * const exampleThreadList = [exampleThread];\n *\n * function MyComponent() {\n *   return (\n *     <TamboStubProvider\n *       thread={exampleThread}\n *       components={[]}\n *       tools={[]}\n *       threads={exampleThreadList}\n *       projectId=\"example-project\"\n *     >\n *       <MessageThreadFull />\n *     </TamboStubProvider>\n *   );\n * }\n * ```\n * @param props - The props for the TamboStubProvider\n * @param props.children - The children to wrap\n * @param props.thread - The thread data to display\n * @param props.components - Optional components registry\n * @param props.tools - Optional tools registry\n * @param props.threads - Optional threads data to populate thread list (overrides useTamboThreadList)\n * @param props.projectId - Optional project ID for query cache (defaults to thread.projectId)\n * @param props.contextKey - Optional context key for thread list queries\n * @param props.contextHelpers - Optional configuration for which context helpers are enabled/disabled\n * @returns The TamboStubProvider component\n */\nexport const TamboStubProvider: React.FC<\n  PropsWithChildren<TamboStubProviderProps>\n> = ({\n  children,\n  thread,\n  components = [],\n  tools = [],\n  threads,\n  projectId,\n  contextKey,\n  contextHelpers,\n  ...overrides\n}) => {\n  const defaults = createDefaultCallbacks();\n\n  // Create stub client and queryClient\n  const stubClient = {} as TamboAI;\n  const stubQueryClient = new QueryClient();\n\n  // Use provided projectId or fall back to thread's projectId\n  const resolvedProjectId = projectId ?? thread.projectId;\n\n  // Build component registry from components prop\n  const componentList = components.reduce(\n    (acc, component) => {\n      acc[component.name] = {\n        component: component.component,\n        loadingComponent: component.loadingComponent,\n        name: component.name,\n        description: component.description,\n        props: component.propsDefinition ?? {},\n        contextTools: [],\n      };\n      return acc;\n    },\n    {} as Record<string, any>,\n  );\n\n  // Build tool registry from tools prop\n  const toolRegistry = tools.reduce((acc, tool) => {\n    acc[tool.name] = tool;\n    return acc;\n  }, {} as TamboToolRegistry);\n\n  // Build tool associations from components\n  const componentToolAssociations = components.reduce(\n    (acc, component) => {\n      if (component.associatedTools) {\n        acc[component.name] = component.associatedTools.map(\n          (tool) => tool.name,\n        );\n      }\n      return acc;\n    },\n    {} as Record<string, string[]>,\n  );\n\n  // Merge defaults with provided overrides\n  const threadContextProps: TamboThreadContextProps = {\n    thread,\n    currentThreadId: thread.id,\n    currentThread: thread,\n    threadMap: { [thread.id]: thread },\n    setThreadMap: () => {},\n    switchCurrentThread:\n      overrides.switchCurrentThread ?? defaults.switchCurrentThread,\n    startNewThread: overrides.startNewThread ?? defaults.startNewThread,\n    updateThreadName: overrides.updateThreadName ?? defaults.updateThreadName,\n    generateThreadName:\n      overrides.generateThreadName ?? defaults.generateThreadName,\n    addThreadMessage: overrides.addThreadMessage ?? defaults.addThreadMessage,\n    updateThreadMessage:\n      overrides.updateThreadMessage ?? defaults.updateThreadMessage,\n    streaming: overrides.streaming ?? true,\n    sendThreadMessage:\n      overrides.sendThreadMessage ?? defaults.sendThreadMessage,\n    cancel: overrides.cancel ?? defaults.cancel,\n    contextKey,\n  };\n\n  const componentContextProps: TamboComponentContextProps = {\n    registerComponent:\n      overrides.registerComponent ?? defaults.registerComponent,\n    registerTool: overrides.registerTool ?? defaults.registerTool,\n    registerTools: overrides.registerTools ?? defaults.registerTools,\n    addToolAssociation:\n      overrides.addToolAssociation ?? defaults.addToolAssociation,\n  };\n\n  return (\n    <TamboStubClientProvider\n      client={stubClient}\n      queryClient={stubQueryClient}\n      threads={threads}\n      projectId={resolvedProjectId}\n      contextKey={contextKey}\n      isUpdatingToken={false}\n    >\n      <TamboStubRegistryProvider\n        componentList={componentList}\n        toolRegistry={toolRegistry}\n        componentToolAssociations={componentToolAssociations}\n        registerComponent={componentContextProps.registerComponent}\n        registerTool={componentContextProps.registerTool}\n        registerTools={componentContextProps.registerTools}\n        addToolAssociation={componentContextProps.addToolAssociation}\n      >\n        <TamboStubThreadProvider {...threadContextProps}>\n          <TamboContextHelpersProvider contextHelpers={contextHelpers}>\n            <TamboContextAttachmentProvider>\n              <TamboComponentProvider>\n                <TamboInteractableProvider>\n                  <TamboCompositeProvider>{children}</TamboCompositeProvider>\n                </TamboInteractableProvider>\n              </TamboComponentProvider>\n            </TamboContextAttachmentProvider>\n          </TamboContextHelpersProvider>\n        </TamboStubThreadProvider>\n      </TamboStubRegistryProvider>\n    </TamboStubClientProvider>\n  );\n};\n"]}