{"version":3,"file":"tambo-registry-provider.test.js","sourceRoot":"","sources":["../../src/providers/tambo-registry-provider.test.tsx"],"names":[],"mappings":"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","sourcesContent":["import { act, renderHook } from \"@testing-library/react\";\nimport React from \"react\";\nimport { z } from \"zod/v4\";\nimport { TamboComponent, TamboTool } from \"../model/component-metadata\";\nimport { defineTool } from \"../util/registry\";\nimport {\n  TamboRegistryProvider,\n  useTamboRegistry,\n} from \"./tambo-registry-provider\";\n\n// Shared tool registry for all tests\nconst createMockTools = (): TamboTool[] => [\n  defineTool({\n    name: \"test-tool-1\",\n    description: \"First test tool\",\n    tool: jest.fn().mockResolvedValue(\"test-tool-1-result\"),\n    inputSchema: z.object({\n      input: z.string().describe(\"input parameter\"),\n    }),\n    outputSchema: z.string(),\n  }),\n  defineTool({\n    name: \"test-tool-2\",\n    description: \"Second test tool\",\n    tool: jest.fn().mockResolvedValue(\"test-tool-2-result\"),\n    inputSchema: z.object({\n      value: z.number().describe(\"number parameter\"),\n    }),\n    outputSchema: z.string(),\n  }),\n];\n\nconst createMockComponents = (tools: TamboTool[]): TamboComponent[] => [\n  {\n    name: \"TestComponent\",\n    component: () => <div>TestComponent</div>,\n    description: \"Test component\",\n    propsSchema: z.object({\n      test: z.string(),\n    }),\n    associatedTools: tools,\n  },\n];\n\ndescribe(\"TamboRegistryProvider\", () => {\n  const mockTools = createMockTools();\n  const mockComponents = createMockComponents(mockTools);\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe(\"Component and tool registration\", () => {\n    it(\"should register components and tools correctly\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider components={mockComponents}>\n          {children}\n        </TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      expect(result.current.componentList).toHaveProperty(\"TestComponent\");\n      expect(result.current.toolRegistry).toHaveProperty(\"test-tool-1\");\n      expect(result.current.toolRegistry).toHaveProperty(\"test-tool-2\");\n      expect(result.current.componentToolAssociations).toHaveProperty(\n        \"TestComponent\",\n      );\n      expect(result.current.componentToolAssociations.TestComponent).toEqual([\n        \"test-tool-1\",\n        \"test-tool-2\",\n      ]);\n    });\n\n    it(\"should provide onCallUnregisteredTool in context\", () => {\n      const mockonCallUnregisteredTool = jest\n        .fn()\n        .mockResolvedValue(\"test-result\");\n\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider\n          components={mockComponents}\n          onCallUnregisteredTool={mockonCallUnregisteredTool}\n        >\n          {children}\n        </TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      // The onCallUnregisteredTool should be available in the context\n      expect(result.current.onCallUnregisteredTool).toBeDefined();\n      expect(typeof result.current.onCallUnregisteredTool).toBe(\"function\");\n    });\n\n    it(\"should handle tool registration and association\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      // Register a new tool\n      act(() => {\n        result.current.registerTool(mockTools[0]);\n      });\n\n      expect(result.current.toolRegistry).toHaveProperty(\"test-tool-1\");\n\n      // Register a new component\n      act(() => {\n        result.current.registerComponent(mockComponents[0]);\n      });\n\n      expect(result.current.componentList).toHaveProperty(\"TestComponent\");\n      expect(result.current.componentToolAssociations).toHaveProperty(\n        \"TestComponent\",\n      );\n    });\n\n    it(\"should handle multiple tool registration\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      // Register multiple tools\n      act(() => {\n        result.current.registerTools(mockTools);\n      });\n\n      expect(result.current.toolRegistry).toHaveProperty(\"test-tool-1\");\n      expect(result.current.toolRegistry).toHaveProperty(\"test-tool-2\");\n      expect(Object.keys(result.current.toolRegistry)).toHaveLength(2);\n    });\n    it(\"should preserve maxCalls when registering a tool\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      const maxTool: TamboTool = {\n        name: \"max-tool\",\n        description: \"Tool with maxCalls\",\n        tool: jest.fn().mockResolvedValue(\"ok\"),\n        inputSchema: z.object({}),\n        outputSchema: z.object(),\n        maxCalls: 4,\n      };\n\n      act(() => {\n        result.current.registerTool(maxTool);\n      });\n\n      expect(result.current.toolRegistry[\"max-tool\"].maxCalls).toBe(4);\n    });\n\n    it(\"should warn when overwriting an existing tool by default\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n      const consoleWarnSpy = jest.spyOn(console, \"warn\").mockImplementation();\n\n      // Register a tool\n      act(() => {\n        result.current.registerTool(mockTools[0]);\n      });\n\n      // Register the same tool again (should warn by default)\n      act(() => {\n        result.current.registerTool(mockTools[0]);\n      });\n\n      expect(consoleWarnSpy).toHaveBeenCalledWith(\n        expect.stringContaining(\"Overwriting tool test-tool-1\"),\n      );\n\n      consoleWarnSpy.mockRestore();\n    });\n\n    it(\"should not warn when overwriting a tool if warnOnOverwrite is false\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n      const consoleWarnSpy = jest.spyOn(console, \"warn\").mockImplementation();\n\n      // Register a tool\n      act(() => {\n        result.current.registerTool(mockTools[0], false);\n      });\n\n      // Register the same tool again with warnOnOverwrite=false\n      act(() => {\n        result.current.registerTool(mockTools[0], false);\n      });\n\n      // Should not warn about \"Registering new tool\"\n      expect(consoleWarnSpy).not.toHaveBeenCalledWith(\n        expect.stringContaining(\"Overwriting tool test-tool-1\"),\n      );\n\n      consoleWarnSpy.mockRestore();\n    });\n\n    it(\"should handle tool association with components\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider components={mockComponents}>\n          {children}\n        </TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      // Add a new tool association\n      const newTool: TamboTool = {\n        name: \"new-tool\",\n        description: \"New tool\",\n        tool: jest.fn().mockResolvedValue(\"new-tool-result\"),\n        inputSchema: z.object({\n          input: z.string().describe(\"input\"),\n        }),\n        outputSchema: z.string(),\n      };\n\n      // First register the tool\n      act(() => {\n        result.current.registerTool(newTool);\n      });\n\n      // Then add the association\n      act(() => {\n        result.current.addToolAssociation(\"TestComponent\", newTool);\n      });\n\n      expect(result.current.componentToolAssociations.TestComponent).toContain(\n        \"new-tool\",\n      );\n    });\n\n    it(\"should throw error when adding tool association to non-existent component\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      const newTool: TamboTool = {\n        name: \"new-tool\",\n        description: \"New tool\",\n        tool: jest.fn().mockResolvedValue(\"new-tool-result\"),\n        inputSchema: z.object({\n          input: z.string().describe(\"input\"),\n        }),\n        outputSchema: z.string(),\n      };\n\n      expect(() => {\n        act(() => {\n          result.current.addToolAssociation(\"NonExistentComponent\", newTool);\n        });\n      }).toThrow(\"Component NonExistentComponent not found in registry\");\n    });\n\n    it(\"should validate tool schemas and throw error for invalid schemas\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      const invalidTool: TamboTool = {\n        name: \"invalid-tool\",\n        description: \"Invalid tool\",\n        tool: jest.fn().mockResolvedValue(\"result\"),\n        inputSchema: z.record(z.string(), z.string()), // This should cause validation to fail\n        outputSchema: z.string(),\n      };\n\n      // This should throw during registration due to invalid schema\n      expect(() => {\n        act(() => {\n          result.current.registerTool(invalidTool);\n        });\n      }).toThrow(\n        'Record types (objects with dynamic keys) are not supported in inputSchema of tool \"invalid-tool\". Found at path \"(root)\". Replace it with an object using explicit keys.',\n      );\n    });\n\n    it(\"should validate component schemas and throw error for invalid schemas\", () => {\n      const invalidComponent: TamboComponent = {\n        name: \"InvalidComponent\",\n        component: () => <div>Invalid</div>,\n        description: \"Invalid component\",\n        propsSchema: z.record(z.string(), z.string()), // This should cause validation to fail\n      };\n\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      // This should throw during registration due to invalid schema\n      expect(() => {\n        act(() => {\n          result.current.registerComponent(invalidComponent);\n        });\n      }).toThrow(\n        'Record types (objects with dynamic keys) are not supported in propsSchema of component \"InvalidComponent\"',\n      );\n    });\n\n    it(\"should throw error when component has both propsSchema and propsDefinition\", () => {\n      const invalidComponent: TamboComponent = {\n        name: \"InvalidComponent\",\n        component: () => <div>Invalid</div>,\n        description: \"Invalid component\",\n        propsSchema: z.object({ test: z.string() }),\n        propsDefinition: { test: \"string\" }, // Both defined - should throw\n      };\n\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      expect(() => {\n        act(() => {\n          result.current.registerComponent(invalidComponent);\n        });\n      }).toThrow(\n        \"Component InvalidComponent cannot have both propsSchema and propsDefinition defined\",\n      );\n    });\n\n    it(\"should throw error when component has neither propsSchema nor propsDefinition\", () => {\n      const invalidComponent: TamboComponent = {\n        name: \"InvalidComponent\",\n        component: () => <div>Invalid</div>,\n        description: \"Invalid component\",\n        // Neither propsSchema nor propsDefinition defined - should throw\n      };\n\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      expect(() => {\n        act(() => {\n          result.current.registerComponent(invalidComponent);\n        });\n      }).toThrow(\n        \"Component InvalidComponent must have either propsSchema (recommended) or propsDefinition defined\",\n      );\n    });\n\n    it(\"should throw error when tool name contains spaces\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      const invalidTool: TamboTool = {\n        name: \"invalid tool name\", // Contains spaces\n        description: \"Tool with spaces in name\",\n        tool: jest.fn().mockResolvedValue(\"result\"),\n        inputSchema: z.object({\n          input: z.string(),\n        }),\n        outputSchema: z.string(),\n      };\n\n      expect(() => {\n        act(() => {\n          result.current.registerTool(invalidTool);\n        });\n      }).toThrow(\n        'tool \"invalid tool name\" must only contain letters, numbers, underscores, and hyphens.',\n      );\n    });\n\n    it(\"should throw error when component name contains spaces\", () => {\n      const invalidComponent: TamboComponent = {\n        name: \"Invalid Component Name\", // Contains spaces\n        component: () => <div>Invalid</div>,\n        description: \"Component with spaces in name\",\n        propsSchema: z.object({ test: z.string() }),\n      };\n\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      expect(() => {\n        act(() => {\n          result.current.registerComponent(invalidComponent);\n        });\n      }).toThrow(\n        'component \"Invalid Component Name\" must only contain letters, numbers, underscores, and hyphens.',\n      );\n    });\n  });\n\n  describe(\"Tool call handling\", () => {\n    it(\"should provide onCallUnregisteredTool callback for handling unknown tools\", async () => {\n      const mockonCallUnregisteredTool = jest\n        .fn()\n        .mockResolvedValue(\"unknown-tool-result\");\n\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider\n          components={mockComponents}\n          onCallUnregisteredTool={mockonCallUnregisteredTool}\n        >\n          {children}\n        </TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      // Verify the callback is available\n      expect(result.current.onCallUnregisteredTool).toBeDefined();\n      expect(typeof result.current.onCallUnregisteredTool).toBe(\"function\");\n\n      // Simulate calling the unknown tool handler\n      const toolName = \"unknown-tool\";\n      const args = [{ parameterName: \"input\", parameterValue: \"test-input\" }];\n\n      await act(async () => {\n        if (result.current.onCallUnregisteredTool) {\n          await result.current.onCallUnregisteredTool(toolName, args);\n        }\n      });\n\n      expect(mockonCallUnregisteredTool).toHaveBeenCalledWith(toolName, args);\n    });\n\n    it(\"should handle onCallUnregisteredTool being undefined\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider components={mockComponents}>\n          {children}\n        </TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      expect(result.current.onCallUnregisteredTool).toBeUndefined();\n    });\n  });\n\n  describe(\"Resource registration\", () => {\n    it(\"should register static resources via props\", () => {\n      const staticResources = [\n        {\n          uri: \"file:///local/doc.txt\",\n          name: \"Local Document\",\n          mimeType: \"text/plain\",\n        },\n        {\n          uri: \"file:///local/image.png\",\n          name: \"Local Image\",\n          mimeType: \"image/png\",\n        },\n      ];\n\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider resources={staticResources}>\n          {children}\n        </TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      expect(result.current.resources).toHaveLength(2);\n      expect(result.current.resources[0].uri).toBe(\"file:///local/doc.txt\");\n      expect(result.current.resources[1].uri).toBe(\"file:///local/image.png\");\n    });\n\n    it(\"should register resources dynamically via registerResource\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      const newResource = {\n        uri: \"file:///dynamic/doc.txt\",\n        name: \"Dynamic Document\",\n        mimeType: \"text/plain\",\n      };\n\n      act(() => {\n        result.current.registerResource(newResource);\n      });\n\n      expect(result.current.resources).toHaveLength(1);\n      expect(result.current.resources[0].uri).toBe(\"file:///dynamic/doc.txt\");\n    });\n\n    it(\"should register multiple resources via registerResources\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      const newResources = [\n        {\n          uri: \"file:///batch/doc1.txt\",\n          name: \"Batch Document 1\",\n          mimeType: \"text/plain\",\n        },\n        {\n          uri: \"file:///batch/doc2.txt\",\n          name: \"Batch Document 2\",\n          mimeType: \"text/plain\",\n        },\n      ];\n\n      act(() => {\n        result.current.registerResources(newResources);\n      });\n\n      expect(result.current.resources).toHaveLength(2);\n      expect(result.current.resources[0].uri).toBe(\"file:///batch/doc1.txt\");\n      expect(result.current.resources[1].uri).toBe(\"file:///batch/doc2.txt\");\n    });\n\n    it(\"should register resource source via props\", () => {\n      const mockListResources = jest.fn().mockResolvedValue([]);\n      const mockGetResource = jest.fn().mockResolvedValue({\n        contents: [{ uri: \"\", mimeType: \"text/plain\", text: \"\" }],\n      });\n\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider\n          listResources={mockListResources}\n          getResource={mockGetResource}\n        >\n          {children}\n        </TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      expect(result.current.resourceSource).not.toBeNull();\n      expect(result.current.resourceSource?.listResources).toBe(\n        mockListResources,\n      );\n      expect(result.current.resourceSource?.getResource).toBe(mockGetResource);\n    });\n\n    it(\"should register resource source via registerResourceSource\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      const mockListResources = jest.fn().mockResolvedValue([]);\n      const mockGetResource = jest.fn().mockResolvedValue({\n        contents: [{ uri: \"\", mimeType: \"text/plain\", text: \"\" }],\n      });\n\n      act(() => {\n        result.current.registerResourceSource({\n          listResources: mockListResources,\n          getResource: mockGetResource,\n        });\n      });\n\n      expect(result.current.resourceSource).not.toBeNull();\n      expect(result.current.resourceSource?.listResources).toBe(\n        mockListResources,\n      );\n      expect(result.current.resourceSource?.getResource).toBe(mockGetResource);\n    });\n\n    it(\"should throw error when only listResources is provided\", () => {\n      const mockListResources = jest.fn().mockResolvedValue([]);\n\n      expect(() => {\n        const wrapper = ({ children }: { children: React.ReactNode }) => (\n          <TamboRegistryProvider listResources={mockListResources}>\n            {children}\n          </TamboRegistryProvider>\n        );\n        renderHook(() => useTamboRegistry(), { wrapper });\n      }).toThrow(\n        \"Both listResources and getResource must be provided together\",\n      );\n    });\n\n    it(\"should throw error when only getResource is provided\", () => {\n      const mockGetResource = jest.fn().mockResolvedValue({\n        contents: [{ uri: \"\", mimeType: \"text/plain\", text: \"\" }],\n      });\n\n      expect(() => {\n        const wrapper = ({ children }: { children: React.ReactNode }) => (\n          <TamboRegistryProvider getResource={mockGetResource}>\n            {children}\n          </TamboRegistryProvider>\n        );\n        renderHook(() => useTamboRegistry(), { wrapper });\n      }).toThrow(\n        \"Both listResources and getResource must be provided together\",\n      );\n    });\n\n    it(\"should validate resource has required uri field\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      const invalidResource = {\n        name: \"Document without URI\",\n        mimeType: \"text/plain\",\n      } as any;\n\n      expect(() => {\n        act(() => {\n          result.current.registerResource(invalidResource);\n        });\n      }).toThrow(\"Resource must have a 'uri' field\");\n    });\n\n    it(\"should validate resource has required name field\", () => {\n      const wrapper = ({ children }: { children: React.ReactNode }) => (\n        <TamboRegistryProvider>{children}</TamboRegistryProvider>\n      );\n\n      const { result } = renderHook(() => useTamboRegistry(), { wrapper });\n\n      const invalidResource = {\n        uri: \"file:///doc.txt\",\n        mimeType: \"text/plain\",\n      } as any;\n\n      expect(() => {\n        act(() => {\n          result.current.registerResource(invalidResource);\n        });\n      }).toThrow(\n        \"Resource with URI 'file:///doc.txt' must have a 'name' field\",\n      );\n    });\n  });\n});\n"]}