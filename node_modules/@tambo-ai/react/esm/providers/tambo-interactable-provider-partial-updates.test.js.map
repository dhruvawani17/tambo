{"version":3,"file":"tambo-interactable-provider-partial-updates.test.js","sourceRoot":"","sources":["../../src/providers/tambo-interactable-provider-partial-updates.test.tsx"],"names":[],"mappings":"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","sourcesContent":["import { act, renderHook } from \"@testing-library/react\";\nimport React from \"react\";\nimport { z } from \"zod/v4\";\nimport { TamboInteractableComponent } from \"../model/tambo-interactable\";\nimport {\n  TamboInteractableProvider,\n  useTamboInteractable,\n} from \"./tambo-interactable-provider\";\n\n// Mock the context helpers\nconst mockAddContextHelper = jest.fn();\nconst mockRemoveContextHelper = jest.fn();\n\njest.mock(\"./tambo-context-helpers-provider\", () => ({\n  TamboContextHelpersProvider: ({\n    children,\n  }: {\n    children: React.ReactNode;\n  }) => <>{children}</>,\n  useTamboContextHelpers: () => ({\n    addContextHelper: mockAddContextHelper,\n    removeContextHelper: mockRemoveContextHelper,\n  }),\n}));\n\n// Mock the component provider\nconst mockRegisterTool = jest.fn();\n\njest.mock(\"./tambo-component-provider\", () => ({\n  useTamboComponent: () => ({\n    registerTool: mockRegisterTool,\n  }),\n}));\n\n// Mock the context helper creation\njest.mock(\"../context-helpers/current-interactables-context-helper\", () => ({\n  createInteractablesContextHelper: () =>\n    jest.fn(() => ({\n      name: \"interactables\",\n      context: {\n        description: \"Test interactables context\",\n        components: [],\n      },\n    })),\n}));\n\ndescribe(\"updateInteractableComponentProps - Partial Updates\", () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  const wrapper = ({ children }: { children: React.ReactNode }) => (\n    <TamboInteractableProvider>{children}</TamboInteractableProvider>\n  );\n\n  describe(\"Partial Updates Functionality\", () => {\n    it(\"should apply partial updates to existing props\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const component: Omit<TamboInteractableComponent, \"id\" | \"createdAt\"> = {\n        name: \"TestComponent\",\n        description: \"A test component\",\n        component: () => <div>Test</div>,\n        props: {\n          title: \"Original Title\",\n          count: 0,\n          active: true,\n          metadata: { type: \"test\", version: \"1.0\" },\n        },\n        propsSchema: z.object({\n          title: z.string(),\n          count: z.number(),\n          active: z.boolean(),\n          metadata: z.object({\n            type: z.string(),\n            version: z.string(),\n          }),\n        }),\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      // Verify initial state\n      expect(result.current.interactableComponents[0].props).toEqual({\n        title: \"Original Title\",\n        count: 0,\n        active: true,\n        metadata: { type: \"test\", version: \"1.0\" },\n      });\n\n      // Apply partial update - only change count\n      let updateResult = \"\";\n      act(() => {\n        updateResult = result.current.updateInteractableComponentProps(\n          componentId,\n          {\n            count: 5,\n          },\n        );\n      });\n\n      expect(updateResult).toBe(\"Updated successfully\");\n      expect(result.current.interactableComponents[0].props).toEqual({\n        title: \"Original Title\", // unchanged\n        count: 5, // updated\n        active: true, // unchanged\n        metadata: { type: \"test\", version: \"1.0\" }, // unchanged\n      });\n    });\n\n    it(\"should apply multiple partial updates in sequence\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const component: Omit<TamboInteractableComponent, \"id\" | \"createdAt\"> = {\n        name: \"TestComponent\",\n        description: \"A test component\",\n        component: () => <div>Test</div>,\n        props: {\n          title: \"Original Title\",\n          count: 0,\n          active: true,\n          description: \"Original description\",\n        },\n        propsSchema: z.object({\n          title: z.string(),\n          count: z.number(),\n          active: z.boolean(),\n          description: z.string(),\n        }),\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      // First partial update - change title and count\n      act(() => {\n        result.current.updateInteractableComponentProps(componentId, {\n          title: \"Updated Title\",\n          count: 10,\n        });\n      });\n\n      expect(result.current.interactableComponents[0].props).toEqual({\n        title: \"Updated Title\",\n        count: 10,\n        active: true,\n        description: \"Original description\",\n      });\n\n      // Second partial update - change active and description\n      act(() => {\n        result.current.updateInteractableComponentProps(componentId, {\n          active: false,\n          description: \"Updated description\",\n        });\n      });\n\n      expect(result.current.interactableComponents[0].props).toEqual({\n        title: \"Updated Title\", // from previous update\n        count: 10, // from previous update\n        active: false, // new update\n        description: \"Updated description\", // new update\n      });\n    });\n\n    it(\"should handle nested object partial updates (shallow merge behavior)\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const component: Omit<TamboInteractableComponent, \"id\" | \"createdAt\"> = {\n        name: \"TestComponent\",\n        description: \"A test component\",\n        component: () => <div>Test</div>,\n        props: {\n          title: \"Original Title\",\n          config: {\n            theme: \"light\",\n            language: \"en\",\n            features: {\n              notifications: true,\n              analytics: false,\n            },\n          },\n        },\n        propsSchema: z.object({\n          title: z.string(),\n          config: z.object({\n            theme: z.string(),\n            language: z.string(),\n            features: z.object({\n              notifications: z.boolean(),\n              analytics: z.boolean(),\n            }),\n          }),\n        }),\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      // Partial update - replace entire config object (shallow merge behavior)\n      act(() => {\n        result.current.updateInteractableComponentProps(componentId, {\n          config: {\n            theme: \"dark\",\n            // Note: language and features are not provided, so they will be undefined\n            // This demonstrates the shallow merge behavior\n          },\n        });\n      });\n\n      expect(result.current.interactableComponents[0].props).toEqual({\n        title: \"Original Title\",\n        config: {\n          theme: \"dark\", // updated\n          // language and features are now undefined due to shallow merge\n        },\n      });\n    });\n\n    it(\"should handle array partial updates\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const component: Omit<TamboInteractableComponent, \"id\" | \"createdAt\"> = {\n        name: \"TestComponent\",\n        description: \"A test component\",\n        component: () => <div>Test</div>,\n        props: {\n          title: \"Original Title\",\n          items: [\"item1\", \"item2\", \"item3\"],\n          tags: [\"tag1\", \"tag2\"],\n        },\n        propsSchema: z.object({\n          title: z.string(),\n          items: z.array(z.string()),\n          tags: z.array(z.string()),\n        }),\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      // Partial update - only change items array\n      act(() => {\n        result.current.updateInteractableComponentProps(componentId, {\n          items: [\"newItem1\", \"newItem2\"],\n        });\n      });\n\n      expect(result.current.interactableComponents[0].props).toEqual({\n        title: \"Original Title\", // unchanged\n        items: [\"newItem1\", \"newItem2\"], // updated\n        tags: [\"tag1\", \"tag2\"], // unchanged\n      });\n    });\n\n    it(\"should handle null and undefined values in partial updates\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const component: Omit<TamboInteractableComponent, \"id\" | \"createdAt\"> = {\n        name: \"TestComponent\",\n        description: \"A test component\",\n        component: () => <div>Test</div>,\n        props: {\n          title: \"Original Title\",\n          count: 5,\n          description: \"Original description\",\n        },\n        propsSchema: z.object({\n          title: z.string(),\n          count: z.number(),\n          description: z.string(),\n        }),\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      // Partial update with null value\n      act(() => {\n        result.current.updateInteractableComponentProps(componentId, {\n          description: null as any,\n        });\n      });\n\n      expect(result.current.interactableComponents[0].props).toEqual({\n        title: \"Original Title\",\n        count: 5,\n        description: null,\n      });\n\n      // Partial update with undefined value\n      act(() => {\n        result.current.updateInteractableComponentProps(componentId, {\n          count: undefined as any,\n        });\n      });\n\n      expect(result.current.interactableComponents[0].props).toEqual({\n        title: \"Original Title\",\n        count: undefined,\n        description: null,\n      });\n    });\n  });\n\n  describe(\"Error Handling\", () => {\n    it(\"should return error for non-existent component\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      let updateResult = \"\";\n      act(() => {\n        updateResult = result.current.updateInteractableComponentProps(\n          \"non-existent\",\n          {\n            title: \"New Title\",\n          },\n        );\n      });\n\n      expect(updateResult).toBe(\"Updated successfully\");\n    });\n\n    it(\"should throw error when component name contains spaces\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const invalidComponent: Omit<\n        TamboInteractableComponent,\n        \"id\" | \"createdAt\"\n      > = {\n        name: \"Invalid Component Name\", // Contains spaces\n        description: \"A component with spaces in name\",\n        component: () => <div>Invalid</div>,\n        props: { title: \"Test\" },\n        propsSchema: z.object({ title: z.string() }),\n      };\n\n      expect(() => {\n        act(() => {\n          result.current.addInteractableComponent(invalidComponent);\n        });\n      }).toThrow(\n        'component \"Invalid Component Name\" must only contain letters, numbers, underscores, and hyphens.',\n      );\n    });\n\n    it(\"should return warning for empty props object\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const component: Omit<TamboInteractableComponent, \"id\" | \"createdAt\"> = {\n        name: \"TestComponent\",\n        description: \"A test component\",\n        component: () => <div>Test</div>,\n        props: { title: \"Original Title\" },\n        propsSchema: z.object({ title: z.string() }),\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      let updateResult = \"\";\n      act(() => {\n        updateResult = result.current.updateInteractableComponentProps(\n          componentId,\n          {},\n        );\n      });\n\n      expect(updateResult).toBe(\n        `Warning: No props provided for component with ID ${componentId}.`,\n      );\n    });\n\n    it(\"should return warning for null props\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const component: Omit<TamboInteractableComponent, \"id\" | \"createdAt\"> = {\n        name: \"TestComponent\",\n        description: \"A test component\",\n        component: () => <div>Test</div>,\n        props: { title: \"Original Title\" },\n        propsSchema: z.object({ title: z.string() }),\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      let updateResult = \"\";\n      act(() => {\n        updateResult = result.current.updateInteractableComponentProps(\n          componentId,\n          null as any,\n        );\n      });\n\n      expect(updateResult).toBe(\n        `Warning: No props provided for component with ID ${componentId}.`,\n      );\n    });\n\n    it(\"should return warning for undefined props\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const component: Omit<TamboInteractableComponent, \"id\" | \"createdAt\"> = {\n        name: \"TestComponent\",\n        description: \"A test component\",\n        component: () => <div>Test</div>,\n        props: { title: \"Original Title\" },\n        propsSchema: z.object({ title: z.string() }),\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      let updateResult = \"\";\n      act(() => {\n        updateResult = result.current.updateInteractableComponentProps(\n          componentId,\n          undefined as any,\n        );\n      });\n\n      expect(updateResult).toBe(\n        `Warning: No props provided for component with ID ${componentId}.`,\n      );\n    });\n  });\n\n  describe(\"Performance and Efficiency\", () => {\n    it(\"should only update changed properties without affecting others\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const component: Omit<TamboInteractableComponent, \"id\" | \"createdAt\"> = {\n        name: \"TestComponent\",\n        description: \"A test component\",\n        component: () => <div>Test</div>,\n        props: {\n          title: \"Original Title\",\n          count: 0,\n          active: true,\n          metadata: { type: \"test\", version: \"1.0\" },\n          items: [\"item1\", \"item2\"],\n        },\n        propsSchema: z.object({\n          title: z.string(),\n          count: z.number(),\n          active: z.boolean(),\n          metadata: z.object({\n            type: z.string(),\n            version: z.string(),\n          }),\n          items: z.array(z.string()),\n        }),\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      const originalProps = result.current.interactableComponents[0].props;\n      const originalMetadata = originalProps.metadata;\n      const originalItems = originalProps.items;\n\n      // Apply minimal partial update - only change count\n      act(() => {\n        result.current.updateInteractableComponentProps(componentId, {\n          count: 1,\n        });\n      });\n\n      const updatedProps = result.current.interactableComponents[0].props;\n\n      // Verify that only count changed\n      expect(updatedProps.count).toBe(1);\n      expect(updatedProps.title).toBe(\"Original Title\");\n      expect(updatedProps.active).toBe(true);\n\n      // Verify that nested objects are preserved (same reference for efficiency)\n      expect(updatedProps.metadata).toBe(originalMetadata);\n      expect(updatedProps.items).toBe(originalItems);\n    });\n\n    it(\"should handle large objects efficiently with partial updates\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      // Create a component with a large initial state\n      const largeData = {\n        users: Array.from({ length: 1000 }, (_, i) => ({\n          id: i,\n          name: `User ${i}`,\n        })),\n        settings: {\n          theme: \"light\",\n          language: \"en\",\n          notifications: true,\n          privacy: {\n            shareData: false,\n            analytics: true,\n            marketing: false,\n          },\n        },\n        metadata: {\n          version: \"1.0.0\",\n          build: \"12345\",\n          timestamp: Date.now(),\n        },\n      };\n\n      const propsSchema = z.object({\n        users: z.array(\n          z.object({\n            id: z.number(),\n            name: z.string(),\n          }),\n        ),\n        settings: z.object({\n          theme: z.string(),\n          language: z.string(),\n          notifications: z.boolean(),\n          privacy: z.object({\n            shareData: z.boolean(),\n            analytics: z.boolean(),\n            marketing: z.boolean(),\n          }),\n        }),\n        metadata: z.object({\n          version: z.string(),\n          build: z.string(),\n          timestamp: z.number(),\n        }),\n      });\n\n      const component: Omit<\n        TamboInteractableComponent<z.infer<typeof propsSchema>>,\n        \"id\" | \"createdAt\"\n      > = {\n        name: \"TestComponent\",\n        description: \"A test component with large data\",\n        component: () => <div>Test</div>,\n        props: largeData,\n        propsSchema,\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      const originalProps = (\n        result.current.interactableComponents[0] as TamboInteractableComponent<\n          z.infer<typeof propsSchema>\n        >\n      ).props;\n      const originalUsers = originalProps.users;\n\n      // Apply a small partial update - only change theme (shallow merge behavior)\n      act(() => {\n        result.current.updateInteractableComponentProps(componentId, {\n          settings: {\n            theme: \"dark\",\n            // Note: other settings properties are not provided, so they will be undefined\n            // This demonstrates the shallow merge behavior\n          },\n        });\n      });\n\n      const updatedProps = (\n        result.current.interactableComponents[0] as TamboInteractableComponent<\n          z.infer<typeof propsSchema>\n        >\n      ).props;\n\n      // Verify the update worked\n      expect(updatedProps.settings.theme).toBe(\"dark\");\n      // Due to shallow merge, other properties are now undefined\n      expect(updatedProps.settings.language).toBeUndefined();\n      expect(updatedProps.settings.notifications).toBeUndefined();\n\n      // Verify that large arrays are preserved (same reference for efficiency)\n      expect(updatedProps.users).toBe(originalUsers);\n\n      // Verify that metadata is preserved (not updated)\n      expect(updatedProps.metadata).toBe(originalProps.metadata);\n    });\n  });\n\n  describe(\"Edge Cases\", () => {\n    it(\"should handle updating a property that doesn't exist in original props\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const component: Omit<TamboInteractableComponent, \"id\" | \"createdAt\"> = {\n        name: \"TestComponent\",\n        description: \"A test component\",\n        component: () => <div>Test</div>,\n        props: {\n          title: \"Original Title\",\n          count: 0,\n        },\n        propsSchema: z.object({\n          title: z.string(),\n          count: z.number(),\n          newProperty: z.string().optional(),\n        }),\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      // Add a new property that wasn't in the original props\n      act(() => {\n        result.current.updateInteractableComponentProps(componentId, {\n          newProperty: \"New Value\",\n        });\n      });\n\n      expect(result.current.interactableComponents[0].props).toEqual({\n        title: \"Original Title\",\n        count: 0,\n        newProperty: \"New Value\",\n      });\n    });\n\n    it(\"should handle updating with same values (no-op updates)\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const component: Omit<TamboInteractableComponent, \"id\" | \"createdAt\"> = {\n        name: \"TestComponent\",\n        description: \"A test component\",\n        component: () => <div>Test</div>,\n        props: {\n          title: \"Original Title\",\n          count: 5,\n          active: true,\n        },\n        propsSchema: z.object({\n          title: z.string(),\n          count: z.number(),\n          active: z.boolean(),\n        }),\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      const originalProps = result.current.interactableComponents[0].props;\n\n      // Update with the same values\n      let updateResult = \"\";\n      act(() => {\n        updateResult = result.current.updateInteractableComponentProps(\n          componentId,\n          {\n            title: \"Original Title\",\n            count: 5,\n            active: true,\n          },\n        );\n      });\n\n      expect(updateResult).toBe(\"Updated successfully\");\n      expect(result.current.interactableComponents[0].props).toEqual(\n        originalProps,\n      );\n    });\n\n    it(\"should handle proper nested partial updates by providing complete nested structure\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const component: Omit<TamboInteractableComponent, \"id\" | \"createdAt\"> = {\n        name: \"TestComponent\",\n        description: \"A test component\",\n        component: () => <div>Test</div>,\n        props: {\n          title: \"Original Title\",\n          config: {\n            theme: \"light\",\n            language: \"en\",\n            features: {\n              notifications: true,\n              analytics: false,\n              experimental: {\n                beta: false,\n                alpha: true,\n              },\n            },\n          },\n        },\n        propsSchema: z.object({\n          title: z.string(),\n          config: z.object({\n            theme: z.string(),\n            language: z.string(),\n            features: z.object({\n              notifications: z.boolean(),\n              analytics: z.boolean(),\n              experimental: z.object({\n                beta: z.boolean(),\n                alpha: z.boolean(),\n              }),\n            }),\n          }),\n        }),\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      // Proper nested partial update - provide complete nested structure\n      act(() => {\n        result.current.updateInteractableComponentProps(componentId, {\n          config: {\n            theme: \"light\", // keep original\n            language: \"en\", // keep original\n            features: {\n              notifications: true, // keep original\n              analytics: false, // keep original\n              experimental: {\n                beta: true, // update this\n                alpha: true, // keep original\n              },\n            },\n          },\n        });\n      });\n\n      expect(result.current.interactableComponents[0].props).toEqual({\n        title: \"Original Title\",\n        config: {\n          theme: \"light\", // unchanged\n          language: \"en\", // unchanged\n          features: {\n            notifications: true, // unchanged\n            analytics: false, // unchanged\n            experimental: {\n              beta: true, // updated\n              alpha: true, // unchanged\n            },\n          },\n        },\n      });\n    });\n\n    it(\"should handle complex nested partial updates (shallow merge behavior)\", () => {\n      const { result } = renderHook(() => useTamboInteractable(), { wrapper });\n\n      const component: Omit<TamboInteractableComponent, \"id\" | \"createdAt\"> = {\n        name: \"TestComponent\",\n        description: \"A test component\",\n        component: () => <div>Test</div>,\n        props: {\n          title: \"Original Title\",\n          config: {\n            theme: \"light\",\n            language: \"en\",\n            features: {\n              notifications: true,\n              analytics: false,\n              experimental: {\n                beta: false,\n                alpha: true,\n              },\n            },\n          },\n        },\n        propsSchema: z.object({\n          title: z.string(),\n          config: z.object({\n            theme: z.string(),\n            language: z.string(),\n            features: z.object({\n              notifications: z.boolean(),\n              analytics: z.boolean(),\n              experimental: z.object({\n                beta: z.boolean(),\n                alpha: z.boolean(),\n              }),\n            }),\n          }),\n        }),\n      };\n\n      let componentId = \"\";\n      act(() => {\n        componentId = result.current.addInteractableComponent(component);\n      });\n\n      // Deep nested partial update - only change beta flag (shallow merge behavior)\n      act(() => {\n        result.current.updateInteractableComponentProps(componentId, {\n          config: {\n            features: {\n              experimental: {\n                beta: true,\n                // Note: alpha is not provided, so it will be undefined\n                // This demonstrates the shallow merge behavior\n              },\n            },\n          },\n        });\n      });\n\n      expect(result.current.interactableComponents[0].props).toEqual({\n        title: \"Original Title\",\n        config: {\n          // theme and language are now undefined due to shallow merge\n          features: {\n            // notifications and analytics are now undefined due to shallow merge\n            experimental: {\n              beta: true, // updated\n              // alpha is now undefined due to shallow merge\n            },\n          },\n        },\n      });\n    });\n  });\n});\n"]}