{"version":3,"file":"use-tambo-v1-suggestions.test.js","sourceRoot":"","sources":["../../../src/v1/hooks/use-tambo-v1-suggestions.test.tsx"],"names":[],"mappings":"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","sourcesContent":["import { renderHook, act, waitFor } from \"@testing-library/react\";\nimport React from \"react\";\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { useTamboV1Suggestions } from \"./use-tambo-v1-suggestions\";\nimport { useTamboV1ThreadInput } from \"./use-tambo-v1-thread-input\";\nimport { useTamboV1 } from \"./use-tambo-v1\";\nimport { useTamboClient } from \"../../providers/tambo-client-provider\";\nimport { useTamboRegistry } from \"../../providers/tambo-registry-provider\";\n\n// Mock dependencies\njest.mock(\"./use-tambo-v1-thread-input\", () => ({\n  useTamboV1ThreadInput: jest.fn(),\n}));\n\njest.mock(\"./use-tambo-v1\", () => ({\n  useTamboV1: jest.fn(),\n}));\n\njest.mock(\"../../providers/tambo-client-provider\", () => ({\n  useTamboClient: jest.fn(),\n  useTamboQueryClient: jest.fn(() => new QueryClient()),\n}));\n\njest.mock(\"../../providers/tambo-registry-provider\", () => ({\n  useTamboRegistry: jest.fn(),\n}));\n\ndescribe(\"useTamboV1Suggestions\", () => {\n  let queryClient: QueryClient;\n  const mockSetValue = jest.fn();\n  const mockSubmit = jest.fn();\n  const mockGenerateSuggestions = jest.fn();\n\n  function createWrapper() {\n    return function Wrapper({ children }: { children: React.ReactNode }) {\n      return (\n        <QueryClientProvider client={queryClient}>\n          {children}\n        </QueryClientProvider>\n      );\n    };\n  }\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    queryClient = new QueryClient({\n      defaultOptions: {\n        queries: { retry: false },\n        mutations: { retry: false },\n      },\n    });\n\n    // Default mock for thread input\n    jest.mocked(useTamboV1ThreadInput).mockReturnValue({\n      value: \"\",\n      setValue: mockSetValue,\n      submit: mockSubmit,\n      threadId: \"thread_123\",\n      setThreadId: jest.fn(),\n      images: [],\n      addImage: jest.fn(),\n      addImages: jest.fn(),\n      removeImage: jest.fn(),\n      clearImages: jest.fn(),\n      isPending: false,\n      isError: false,\n      error: undefined,\n    } as any);\n\n    // Default mock for useTamboV1\n    jest.mocked(useTamboV1).mockReturnValue({\n      messages: [],\n      thread: undefined,\n      isIdle: true,\n      isStreaming: false,\n      startNewThread: jest.fn(),\n      switchThread: jest.fn(),\n      initThread: jest.fn(),\n      streamingState: {\n        status: \"idle\",\n      },\n    } as any);\n\n    // Default mock for registry\n    jest.mocked(useTamboRegistry).mockReturnValue({\n      componentList: {},\n      toolRegistry: {},\n      componentToolAssociations: {},\n      mcpServerInfos: [],\n      resources: [],\n      resourceSource: null,\n      onCallUnregisteredTool: undefined,\n      registerComponent: jest.fn(),\n      unregisterComponent: jest.fn(),\n      registerTool: jest.fn(),\n      unregisterTool: jest.fn(),\n      registerMcpServer: jest.fn(),\n      unregisterMcpServer: jest.fn(),\n      registerResource: jest.fn(),\n      unregisterResource: jest.fn(),\n      setResourceSource: jest.fn(),\n    } as any);\n\n    // Default mock for client\n    mockGenerateSuggestions.mockResolvedValue([\n      {\n        id: \"suggestion_1\",\n        suggestion: \"What's the weather?\",\n        detailedSuggestion: \"What's the weather like today?\",\n      },\n      {\n        id: \"suggestion_2\",\n        suggestion: \"Tell me a joke\",\n        detailedSuggestion: \"Can you tell me a funny joke?\",\n      },\n    ]);\n\n    jest.mocked(useTamboClient).mockReturnValue({\n      beta: {\n        threads: {\n          suggestions: {\n            generate: mockGenerateSuggestions,\n          },\n        },\n      },\n    } as any);\n  });\n\n  describe(\"Initial State\", () => {\n    it(\"returns empty suggestions when no messages\", () => {\n      const { result } = renderHook(() => useTamboV1Suggestions(), {\n        wrapper: createWrapper(),\n      });\n\n      expect(result.current.suggestions).toEqual([]);\n      expect(result.current.selectedSuggestionId).toBeNull();\n    });\n\n    it(\"returns empty suggestions when latest message is from user\", () => {\n      jest.mocked(useTamboV1).mockReturnValue({\n        messages: [\n          {\n            id: \"msg_1\",\n            role: \"user\",\n            content: [],\n            createdAt: \"2024-01-01T00:00:00Z\",\n          },\n        ],\n        thread: undefined,\n        isIdle: true,\n        isStreaming: false,\n        startNewThread: jest.fn(),\n        switchThread: jest.fn(),\n        initThread: jest.fn(),\n        streamingState: {\n          status: \"idle\",\n        },\n      } as any);\n\n      const { result } = renderHook(() => useTamboV1Suggestions(), {\n        wrapper: createWrapper(),\n      });\n\n      expect(result.current.suggestions).toEqual([]);\n    });\n  });\n\n  describe(\"Suggestion Generation\", () => {\n    it(\"generates suggestions when latest message is from assistant and thread is idle\", async () => {\n      jest.mocked(useTamboV1).mockReturnValue({\n        messages: [\n          {\n            id: \"msg_1\",\n            role: \"assistant\",\n            content: [],\n            createdAt: \"2024-01-01T00:00:00Z\",\n          },\n        ],\n        thread: undefined,\n        isIdle: true,\n        isStreaming: false,\n        startNewThread: jest.fn(),\n        switchThread: jest.fn(),\n        initThread: jest.fn(),\n        streamingState: {\n          status: \"idle\",\n        },\n      } as any);\n\n      const { result } = renderHook(() => useTamboV1Suggestions(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.suggestions).toHaveLength(2);\n      });\n\n      expect(mockGenerateSuggestions).toHaveBeenCalledWith(\n        \"msg_1\",\n        expect.objectContaining({\n          id: \"thread_123\",\n          maxSuggestions: 3,\n        }),\n      );\n    });\n\n    it(\"does not generate suggestions when thread is streaming\", () => {\n      jest.mocked(useTamboV1).mockReturnValue({\n        messages: [\n          {\n            id: \"msg_1\",\n            role: \"assistant\",\n            content: [],\n            createdAt: \"2024-01-01T00:00:00Z\",\n          },\n        ],\n        thread: undefined,\n        isIdle: false,\n        isStreaming: true,\n        startNewThread: jest.fn(),\n        switchThread: jest.fn(),\n        initThread: jest.fn(),\n        streamingState: {\n          status: \"streaming\",\n          runId: \"run_1\",\n        },\n      } as any);\n\n      renderHook(() => useTamboV1Suggestions(), {\n        wrapper: createWrapper(),\n      });\n\n      expect(mockGenerateSuggestions).not.toHaveBeenCalled();\n    });\n\n    it(\"does not generate suggestions when no threadId\", () => {\n      jest.mocked(useTamboV1ThreadInput).mockReturnValue({\n        value: \"\",\n        setValue: mockSetValue,\n        submit: mockSubmit,\n        threadId: undefined,\n        setThreadId: jest.fn(),\n        images: [],\n        addImage: jest.fn(),\n        addImages: jest.fn(),\n        removeImage: jest.fn(),\n        clearImages: jest.fn(),\n        isPending: false,\n        isError: false,\n        error: undefined,\n      } as any);\n\n      jest.mocked(useTamboV1).mockReturnValue({\n        messages: [\n          {\n            id: \"msg_1\",\n            role: \"assistant\",\n            content: [],\n            createdAt: \"2024-01-01T00:00:00Z\",\n          },\n        ],\n        thread: undefined,\n        isIdle: true,\n        isStreaming: false,\n        startNewThread: jest.fn(),\n        switchThread: jest.fn(),\n        initThread: jest.fn(),\n        streamingState: {\n          status: \"idle\",\n        },\n      } as any);\n\n      renderHook(() => useTamboV1Suggestions(), {\n        wrapper: createWrapper(),\n      });\n\n      expect(mockGenerateSuggestions).not.toHaveBeenCalled();\n    });\n\n    it(\"uses custom maxSuggestions option\", async () => {\n      jest.mocked(useTamboV1).mockReturnValue({\n        messages: [\n          {\n            id: \"msg_1\",\n            role: \"assistant\",\n            content: [],\n            createdAt: \"2024-01-01T00:00:00Z\",\n          },\n        ],\n        thread: undefined,\n        isIdle: true,\n        isStreaming: false,\n        startNewThread: jest.fn(),\n        switchThread: jest.fn(),\n        initThread: jest.fn(),\n        streamingState: {\n          status: \"idle\",\n        },\n      } as any);\n\n      const { result } = renderHook(\n        () => useTamboV1Suggestions({ maxSuggestions: 5 }),\n        { wrapper: createWrapper() },\n      );\n\n      await waitFor(() => {\n        expect(result.current.suggestions).toHaveLength(2);\n      });\n\n      expect(mockGenerateSuggestions).toHaveBeenCalledWith(\n        \"msg_1\",\n        expect.objectContaining({\n          maxSuggestions: 5,\n        }),\n      );\n    });\n  });\n\n  describe(\"Accepting Suggestions\", () => {\n    it(\"updates shared input value when accepting without submit\", async () => {\n      jest.mocked(useTamboV1).mockReturnValue({\n        messages: [\n          {\n            id: \"msg_1\",\n            role: \"assistant\",\n            content: [],\n            createdAt: \"2024-01-01T00:00:00Z\",\n          },\n        ],\n        thread: undefined,\n        isIdle: true,\n        isStreaming: false,\n        startNewThread: jest.fn(),\n        switchThread: jest.fn(),\n        initThread: jest.fn(),\n        streamingState: {\n          status: \"idle\",\n        },\n      } as any);\n\n      const { result } = renderHook(() => useTamboV1Suggestions(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.suggestions).toHaveLength(2);\n      });\n\n      const suggestion = result.current.suggestions[0];\n\n      await act(async () => {\n        await result.current.accept({ suggestion });\n      });\n\n      expect(mockSetValue).toHaveBeenCalledWith(\n        \"What's the weather like today?\",\n      );\n      expect(mockSubmit).not.toHaveBeenCalled();\n      expect(result.current.selectedSuggestionId).toBe(\"suggestion_1\");\n    });\n\n    it(\"submits when accepting with shouldSubmit=true\", async () => {\n      mockSubmit.mockResolvedValue({ threadId: \"thread_123\" });\n\n      jest.mocked(useTamboV1).mockReturnValue({\n        messages: [\n          {\n            id: \"msg_1\",\n            role: \"assistant\",\n            content: [],\n            createdAt: \"2024-01-01T00:00:00Z\",\n          },\n        ],\n        thread: undefined,\n        isIdle: true,\n        isStreaming: false,\n        startNewThread: jest.fn(),\n        switchThread: jest.fn(),\n        initThread: jest.fn(),\n        streamingState: {\n          status: \"idle\",\n        },\n      } as any);\n\n      const { result } = renderHook(() => useTamboV1Suggestions(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.suggestions).toHaveLength(2);\n      });\n\n      const suggestion = result.current.suggestions[0];\n\n      await act(async () => {\n        await result.current.accept({ suggestion, shouldSubmit: true });\n      });\n\n      expect(mockSetValue).toHaveBeenCalledWith(\n        \"What's the weather like today?\",\n      );\n      expect(mockSubmit).toHaveBeenCalled();\n    });\n\n    it(\"throws error when suggestion has no detailed content\", async () => {\n      jest.mocked(useTamboV1).mockReturnValue({\n        messages: [\n          {\n            id: \"msg_1\",\n            role: \"assistant\",\n            content: [],\n            createdAt: \"2024-01-01T00:00:00Z\",\n          },\n        ],\n        thread: undefined,\n        isIdle: true,\n        isStreaming: false,\n        startNewThread: jest.fn(),\n        switchThread: jest.fn(),\n        initThread: jest.fn(),\n        streamingState: {\n          status: \"idle\",\n        },\n      } as any);\n\n      const { result } = renderHook(() => useTamboV1Suggestions(), {\n        wrapper: createWrapper(),\n      });\n\n      const emptySuggestion = {\n        id: \"empty_suggestion\",\n        suggestion: \"Empty\",\n        detailedSuggestion: \"\",\n      };\n\n      await expect(\n        result.current.accept({ suggestion: emptySuggestion as any }),\n      ).rejects.toThrow(\"Suggestion has no detailed content\");\n    });\n\n    it(\"throws error when detailedSuggestion is only whitespace\", async () => {\n      jest.mocked(useTamboV1).mockReturnValue({\n        messages: [\n          {\n            id: \"msg_1\",\n            role: \"assistant\",\n            content: [],\n            createdAt: \"2024-01-01T00:00:00Z\",\n          },\n        ],\n        thread: undefined,\n        isIdle: true,\n        isStreaming: false,\n        startNewThread: jest.fn(),\n        switchThread: jest.fn(),\n        initThread: jest.fn(),\n        streamingState: {\n          status: \"idle\",\n        },\n      } as any);\n\n      const { result } = renderHook(() => useTamboV1Suggestions(), {\n        wrapper: createWrapper(),\n      });\n\n      const whitespaceSuggestion = {\n        id: \"whitespace_suggestion\",\n        suggestion: \"Whitespace\",\n        detailedSuggestion: \"   \",\n      };\n\n      await expect(\n        result.current.accept({ suggestion: whitespaceSuggestion as any }),\n      ).rejects.toThrow(\"Suggestion has no detailed content\");\n    });\n  });\n\n  describe(\"State Management\", () => {\n    it(\"resets selectedSuggestionId when message changes\", async () => {\n      const mockUseTamboV1 = jest.mocked(useTamboV1);\n\n      mockUseTamboV1.mockReturnValue({\n        messages: [\n          {\n            id: \"msg_1\",\n            role: \"assistant\",\n            content: [],\n            createdAt: \"2024-01-01T00:00:00Z\",\n          },\n        ],\n        thread: undefined,\n        isIdle: true,\n        isStreaming: false,\n        startNewThread: jest.fn(),\n        switchThread: jest.fn(),\n        initThread: jest.fn(),\n        streamingState: {\n          status: \"idle\",\n        },\n      } as any);\n\n      const { result, rerender } = renderHook(() => useTamboV1Suggestions(), {\n        wrapper: createWrapper(),\n      });\n\n      await waitFor(() => {\n        expect(result.current.suggestions).toHaveLength(2);\n      });\n\n      // Accept a suggestion\n      await act(async () => {\n        await result.current.accept({\n          suggestion: result.current.suggestions[0],\n        });\n      });\n\n      expect(result.current.selectedSuggestionId).toBe(\"suggestion_1\");\n\n      // Change the latest message\n      mockUseTamboV1.mockReturnValue({\n        messages: [\n          {\n            id: \"msg_1\",\n            role: \"assistant\",\n            content: [],\n            createdAt: \"2024-01-01T00:00:00Z\",\n          },\n          {\n            id: \"msg_2\",\n            role: \"assistant\",\n            content: [],\n            createdAt: \"2024-01-01T00:00:01Z\",\n          },\n        ],\n        thread: undefined,\n        isIdle: true,\n        isStreaming: false,\n        startNewThread: jest.fn(),\n        switchThread: jest.fn(),\n        initThread: jest.fn(),\n        streamingState: {\n          status: \"idle\",\n        },\n      } as any);\n\n      rerender();\n\n      await waitFor(() => {\n        expect(result.current.selectedSuggestionId).toBeNull();\n      });\n    });\n\n    it(\"exposes mutation and query results\", async () => {\n      jest.mocked(useTamboV1).mockReturnValue({\n        messages: [\n          {\n            id: \"msg_1\",\n            role: \"assistant\",\n            content: [],\n            createdAt: \"2024-01-01T00:00:00Z\",\n          },\n        ],\n        thread: undefined,\n        isIdle: true,\n        isStreaming: false,\n        startNewThread: jest.fn(),\n        switchThread: jest.fn(),\n        initThread: jest.fn(),\n        streamingState: {\n          status: \"idle\",\n        },\n      } as any);\n\n      const { result } = renderHook(() => useTamboV1Suggestions(), {\n        wrapper: createWrapper(),\n      });\n\n      expect(result.current.acceptResult).toBeDefined();\n      expect(result.current.generateResult).toBeDefined();\n      expect(result.current.suggestionsResult).toBeDefined();\n    });\n\n    it(\"exposes combined mutation results (isPending, isError, error)\", () => {\n      const { result } = renderHook(() => useTamboV1Suggestions(), {\n        wrapper: createWrapper(),\n      });\n\n      expect(result.current.isPending).toBe(false);\n      expect(result.current.isError).toBe(false);\n      expect(result.current.error).toBeNull();\n    });\n  });\n});\n"]}