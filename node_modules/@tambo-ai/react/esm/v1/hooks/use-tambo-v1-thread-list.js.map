{"version":3,"file":"use-tambo-v1-thread-list.js","sourceRoot":"","sources":["../../../src/v1/hooks/use-tambo-v1-thread-list.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb;;;;GAIG;AAEH,OAAO,EAAE,QAAQ,EAAwB,MAAM,uBAAuB,CAAC;AAEvE,OAAO,EAAE,cAAc,EAAE,MAAM,uCAAuC,CAAC;AAwBvE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAkCG;AACH,MAAM,UAAU,oBAAoB,CAClC,WAA+B,EAC/B,YAGC;IAED,MAAM,MAAM,GAAG,cAAc,EAAE,CAAC;IAEhC,OAAO,QAAQ,CAAC;QACd,QAAQ,EAAE,CAAC,YAAY,EAAE,MAAM,EAAE,WAAW,CAAC;QAC7C,OAAO,EAAE,KAAK,IAAI,EAAE,CAAC,MAAM,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC;QAC3D,SAAS,EAAE,IAAI,EAAE,0BAA0B;QAC3C,GAAG,YAAY;KAChB,CAAC,CAAC;AACL,CAAC","sourcesContent":["\"use client\";\n\n/**\n * Thread List Query Hook for v1 API\n *\n * React Query hook for fetching a list of threads.\n */\n\nimport { useQuery, type UseQueryOptions } from \"@tanstack/react-query\";\nimport type { ThreadListResponse } from \"@tambo-ai/typescript-sdk/resources/threads/threads\";\nimport { useTamboClient } from \"../../providers/tambo-client-provider\";\n\n/**\n * Options for fetching thread list\n */\nexport interface ThreadListOptions {\n  /**\n   * User key to scope thread list.\n   * Only threads owned by this userKey will be returned.\n   * If not provided here, uses the userKey from TamboV1Provider context.\n   */\n  userKey?: string;\n\n  /**\n   * Maximum number of threads to return (as string per SDK)\n   */\n  limit?: string;\n\n  /**\n   * Pagination cursor for fetching next page\n   */\n  cursor?: string;\n}\n\n/**\n * Hook to fetch a list of threads.\n *\n * Uses React Query for caching and automatic refetching.\n * Threads are considered stale after 5 seconds.\n *\n * Returns the thread list directly from the SDK with no transformation.\n * Each thread includes runStatus, metadata, and all SDK fields.\n * @param listOptions - Filtering and pagination options\n * @param queryOptions - Additional React Query options\n * @returns React Query query object with thread list\n * @example\n * ```tsx\n * function ThreadList({ userKey }: { userKey?: string }) {\n *   const { data, isLoading, isError } = useTamboV1ThreadList({\n *     userKey,\n *     limit: \"20\",\n *   });\n *\n *   if (isLoading) return <Spinner />;\n *   if (isError) return <Error />;\n *\n *   return (\n *     <ul>\n *       {data.threads.map(thread => (\n *         <li key={thread.id}>\n *           {thread.id} - {thread.runStatus}\n *         </li>\n *       ))}\n *       {data.hasMore && <LoadMoreButton cursor={data.nextCursor} />}\n *     </ul>\n *   );\n * }\n * ```\n */\nexport function useTamboV1ThreadList(\n  listOptions?: ThreadListOptions,\n  queryOptions?: Omit<\n    UseQueryOptions<ThreadListResponse>,\n    \"queryKey\" | \"queryFn\"\n  >,\n) {\n  const client = useTamboClient();\n\n  return useQuery({\n    queryKey: [\"v1-threads\", \"list\", listOptions],\n    queryFn: async () => await client.threads.list(listOptions),\n    staleTime: 5000, // Consider stale after 5s\n    ...queryOptions,\n  });\n}\n"]}