{"version":3,"file":"resource-validators.js","sourceRoot":"","sources":["../../src/util/resource-validators.ts"],"names":[],"mappings":"AAEA;;;;;;GAMG;AACH,MAAM,UAAU,sBAAsB,CACpC,aAA0D,EAC1D,WAAsD;IAEtD,MAAM,gBAAgB,GAAG,aAAa,IAAI,IAAI,CAAC;IAC/C,MAAM,cAAc,GAAG,WAAW,IAAI,IAAI,CAAC;IAE3C,IAAI,gBAAgB,KAAK,cAAc,EAAE,CAAC;QACxC,MAAM,IAAI,KAAK,CACb,+FAA+F;YAC7F,sBAAsB,gBAAgB,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,IAAI;YACpE,eAAe,cAAc,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,EAAE,CAC5D,CAAC;IACJ,CAAC;AACH,CAAC;AAED;;;;GAIG;AACH,MAAM,UAAU,gBAAgB,CAAC,QAA0B;IACzD,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;QAClB,MAAM,IAAI,KAAK,CAAC,kCAAkC,CAAC,CAAC;IACtD,CAAC;IAED,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACnB,MAAM,IAAI,KAAK,CACb,sBAAsB,QAAQ,CAAC,GAAG,4BAA4B,CAC/D,CAAC;IACJ,CAAC;AACH,CAAC","sourcesContent":["import type { ListResourceItem, ResourceSource } from \"../model/resource-info\";\n\n/**\n * Validates that a ResourceSource has both listResources and getResource defined,\n * or neither defined. You cannot provide one without the other.\n * @param listResources - The listResources function (or undefined)\n * @param getResource - The getResource function (or undefined)\n * @throws {Error} if only one of the functions is provided\n */\nexport function validateResourceSource(\n  listResources: ResourceSource[\"listResources\"] | undefined,\n  getResource: ResourceSource[\"getResource\"] | undefined,\n): void {\n  const hasListResources = listResources != null;\n  const hasGetResource = getResource != null;\n\n  if (hasListResources !== hasGetResource) {\n    throw new Error(\n      \"Both listResources and getResource must be provided together, or neither should be provided. \" +\n        `Got: listResources=${hasListResources ? \"defined\" : \"undefined\"}, ` +\n        `getResource=${hasGetResource ? \"defined\" : \"undefined\"}`,\n    );\n  }\n}\n\n/**\n * Validates that a resource has the required fields.\n * @param resource - The resource to validate\n * @throws {Error} if the resource is missing required fields\n */\nexport function validateResource(resource: ListResourceItem): void {\n  if (!resource.uri) {\n    throw new Error(\"Resource must have a 'uri' field\");\n  }\n\n  if (!resource.name) {\n    throw new Error(\n      `Resource with URI '${resource.uri}' must have a 'name' field`,\n    );\n  }\n}\n"]}