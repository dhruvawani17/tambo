import TamboAI from "@tambo-ai/typescript-sdk";
import { Thread } from "@tambo-ai/typescript-sdk/resources/beta/threads/threads";
import React, { PropsWithChildren } from "react";
import { GenerationStage, TamboThreadMessage } from "../model/generate-component-response";
import { TamboThread } from "../model/tambo-thread";
export interface TamboGenerationStageContextProps {
    generationStage: GenerationStage;
    generationStatusMessage: string;
    isIdle: boolean;
}
interface TamboGenerationStageProviderProps {
    generationStage: GenerationStage;
    statusMessage: string;
}
/**
 *
 * This provider is used to provide the generation stage context to the descendants of the provider.
 * @param props - The props for the GenerationStageProvider
 * @param props.children - The children to wrap
 * @param props.generationStage - The generation stage to provide
 * @param props.statusMessage - The status message to provide
 * @returns The GenerationStageProvider component
 */
export declare const TamboGenerationStageProvider: React.FC<PropsWithChildren<TamboGenerationStageProviderProps>>;
type PartialTamboThreadMessageWithThreadId = Partial<TamboThreadMessage> & {
    threadId: string;
};
export interface TamboThreadContextProps {
    /** The current thread */
    thread: TamboThread;
    /** The current thread ID */
    currentThreadId: string | null;
    /** The current thread (alias for thread, may be null) */
    currentThread: TamboThread | null;
    /** Map of all threads by ID */
    threadMap: Record<string, TamboThread>;
    /** Update the thread map (internal use only) */
    setThreadMap: React.Dispatch<React.SetStateAction<Record<string, TamboThread>>>;
    /** Switch to a different thread */
    switchCurrentThread: (threadId: string, fetch?: boolean) => void;
    /** Start a new thread */
    startNewThread: () => void;
    /** Update a thread's name */
    updateThreadName: (name: string, threadId?: string) => void;
    /** Let Tambo generate and set a thread's name based on the thread's messages */
    generateThreadName: (threadId?: string) => Promise<Thread>;
    /** Add a message to the current thread */
    addThreadMessage: (message: TamboThreadMessage, sendToServer: boolean) => Promise<TamboAI.Beta.Threads.ThreadMessage[]>;
    /** Update a message in the current thread */
    updateThreadMessage: (id: string, message: PartialTamboThreadMessageWithThreadId, sendToServer: boolean) => Promise<void>;
    /** Cancel a thread */
    cancel: (threadId?: string) => Promise<void>;
    /** Whether the thread is streaming */
    streaming: boolean;
    /** Send a message to the current thread */
    sendThreadMessage: (message: string, options?: {
        threadId?: string;
        streamResponse?: boolean;
        contextKey?: string;
        forceToolChoice?: string;
        additionalContext?: Record<string, any>;
        content?: TamboAI.Beta.Threads.ChatCompletionContentPart[];
    }) => Promise<TamboThreadMessage>;
    /** The context key to use for the thread */
    contextKey?: string;
}
export interface CombinedTamboThreadContextProps extends TamboThreadContextProps, TamboGenerationStageContextProps {
}
/**
 * This is a stub entry for when the thread is not yet created, the first time
 * the user sends a message
 *
 * Note that the consumer needs to be careful never to send `PLACEHOLDER_THREAD.id` to the server,
 * as this doesn't really exist on the server side.
 */
export declare const PLACEHOLDER_THREAD: TamboThread;
export declare const TamboThreadContext: React.Context<TamboThreadContextProps>;
export type InitialTamboThreadMessage = Pick<TamboThreadMessage, "role" | "content"> & {
    /** Optional ID - will be auto-generated if not provided */
    id?: string;
    /** Optional creation timestamp - will be auto-generated if not provided */
    createdAt?: string;
    /** Optional additional context to include with the message */
    additionalContext?: Record<string, any>;
    /** Optional component state - will default to empty object if not provided */
    componentState?: Record<string, any>;
};
export interface TamboThreadProviderProps {
    /** Whether to stream the response */
    streaming?: boolean;
    /** Initial messages to be included in new threads */
    initialMessages?: InitialTamboThreadMessage[];
    /** Whether to automatically generate thread names. Defaults to true. */
    autoGenerateThreadName?: boolean;
    /** The message count threshold at which the thread name will be auto-generated. Defaults to 3. */
    autoGenerateNameThreshold?: number;
    /** The context key to use for the thread */
    contextKey?: string;
}
/**
 * The TamboThreadProvider is a React provider that provides a thread context
 * to the descendants of the provider.
 * @param props - The props for the TamboThreadProvider
 * @param props.children - The children to wrap
 * @param props.streaming - Whether to stream the response by default. Defaults to true.
 * @param props.initialMessages - Initial messages to be included in new threads
 * @param props.autoGenerateThreadName - Whether to automatically generate thread names. Defaults to true.
 * @param props.autoGenerateNameThreshold - The message count threshold at which the thread name will be auto-generated. Defaults to 3.
 * @param props.contextKey - The context key to use for thread isolation
 * @returns The TamboThreadProvider component
 */
export declare const TamboThreadProvider: React.FC<PropsWithChildren<TamboThreadProviderProps>>;
/**
 * The useTamboGenerationStage hook provides access to the generation stage context
 * to the descendants of the TamboThreadProvider.
 * @returns The generation stage context
 */
export declare const useTamboGenerationStage: () => TamboGenerationStageContextProps;
/**
 * The useTamboThread hook provides access to the current thread context
 * to the descendants of the TamboThreadProvider.
 * @returns All state and actions for the current thread
 */
export declare const useTamboThread: () => CombinedTamboThreadContextProps;
export {};
//# sourceMappingURL=tambo-thread-provider.d.ts.map