{"version":3,"file":"json-patch.test.js","sourceRoot":"","sources":["../../../src/v1/utils/json-patch.test.ts"],"names":[],"mappings":";;AACA,6CAA8C;AAE9C,QAAQ,CAAC,+BAA+B,EAAE,GAAG,EAAE;IAC7C,EAAE,CAAC,6CAA6C,EAAE,GAAG,EAAE;QACrD,MAAM,MAAM,GAAG,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC;QACrC,MAAM,UAAU,GAAgB;YAC9B,EAAE,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,cAAc,EAAE,KAAK,EAAE,MAAM,EAAE;SACvD,CAAC;QAEF,MAAM,CAAC,GAAG,EAAE,CAAC,IAAA,2BAAc,EAAC,MAAM,EAAE,UAAU,CAAC,CAAC,CAAC,OAAO,CACtD,iEAAiE,CAClE,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uCAAuC,EAAE,GAAG,EAAE;QAC/C,MAAM,MAAM,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,CAAC;QAClC,MAAM,UAAU,GAAgB;YAC9B,EAAE,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,GAAG,EAAE;SAChD,CAAC;QAEF,MAAM,CAAC,GAAG,EAAE,CAAC,IAAA,2BAAc,EAAC,MAAM,EAAE,UAAU,CAAC,CAAC,CAAC,OAAO,CACtD,+BAA+B,CAChC,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,uCAAuC,EAAE,GAAG,EAAE;QAC/C,MAAM,MAAM,GAAG,EAAE,CAAC;QAClB,MAAM,UAAU,GAAgB;YAC9B,EAAE,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,EAAE;YACnC,EAAE,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,CAAC,EAAE;SAC9C,CAAC;QAEF,MAAM,CAAC,GAAG,EAAE,CAAC,IAAA,2BAAc,EAAC,MAAM,EAAE,UAAU,CAAC,CAAC,CAAC,OAAO,CACtD,4BAA4B,CAC7B,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import type { Operation } from \"fast-json-patch\";\nimport { applyJsonPatch } from \"./json-patch\";\n\ndescribe(\"applyJsonPatch error handling\", () => {\n  it(\"includes operation summary in error message\", () => {\n    const target = { existing: \"value\" };\n    const operations: Operation[] = [\n      { op: \"replace\", path: \"/nonexistent\", value: \"fail\" },\n    ];\n\n    expect(() => applyJsonPatch(target, operations)).toThrow(\n      /Failed to apply JSON patch operations \\[replace \\/nonexistent\\]/,\n    );\n  });\n\n  it(\"includes target keys in error message\", () => {\n    const target = { foo: 1, bar: 2 };\n    const operations: Operation[] = [\n      { op: \"replace\", path: \"/missing\", value: \"x\" },\n    ];\n\n    expect(() => applyJsonPatch(target, operations)).toThrow(\n      /Target had keys: \\[foo, bar\\]/,\n    );\n  });\n\n  it(\"shows all operations in error summary\", () => {\n    const target = {};\n    const operations: Operation[] = [\n      { op: \"add\", path: \"/a\", value: 1 },\n      { op: \"replace\", path: \"/missing\", value: 2 },\n    ];\n\n    expect(() => applyJsonPatch(target, operations)).toThrow(\n      /add \\/a, replace \\/missing/,\n    );\n  });\n});\n"]}