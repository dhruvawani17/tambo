{"version":3,"file":"component-renderer.test.js","sourceRoot":"","sources":["../../../src/v1/utils/component-renderer.test.tsx"],"names":[],"mappings":";;;;;AAAA,kDAA0B;AAC1B,kDAAwD;AACxD,6DAG8B;AAE9B,+CAA+C;AAC/C,MAAM,qBAAqB,GAAa,GAAG,EAAE;IAC3C,MAAM,OAAO,GAAG,IAAA,0CAAqB,GAAE,CAAC;IACxC,OAAO,CACL,sDAAiB,eAAe;QAC9B,uDAAkB,aAAa,IAAE,OAAO,CAAC,WAAW,CAAQ;QAC5D,uDAAkB,UAAU,IAAE,OAAO,CAAC,QAAQ,CAAQ;QACtD,uDAAkB,WAAW,IAAE,OAAO,CAAC,SAAS,CAAQ;QACxD,uDAAkB,eAAe,IAAE,OAAO,CAAC,aAAa,CAAQ,CAC5D,CACP,CAAC;AACJ,CAAC,CAAC;AAEF,QAAQ,CAAC,4BAA4B,EAAE,GAAG,EAAE;IAC1C,EAAE,CAAC,sCAAsC,EAAE,GAAG,EAAE;QAC9C,IAAA,cAAM,EACJ,8BAAC,+CAA0B,IACzB,WAAW,EAAC,UAAU,EACtB,QAAQ,EAAC,YAAY,EACrB,SAAS,EAAC,SAAS,EACnB,aAAa,EAAC,eAAe;YAE7B,8BAAC,qBAAqB,OAAG,CACE,CAC9B,CAAC;QAEF,MAAM,CAAC,cAAM,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;QACxE,MAAM,CAAC,cAAM,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,CAAC,iBAAiB,CAAC,YAAY,CAAC,CAAC;QACvE,MAAM,CAAC,cAAM,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC;QACrE,MAAM,CAAC,cAAM,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC,CAAC,iBAAiB,CAC3D,eAAe,CAChB,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,QAAQ,CAAC,uBAAuB,EAAE,GAAG,EAAE;IACrC,EAAE,CAAC,mCAAmC,EAAE,GAAG,EAAE;QAC3C,SAAS,YAAY;YACnB,IAAA,0CAAqB,GAAE,CAAC;YACxB,OAAO,+DAA4B,CAAC;QACtC,CAAC;QAED,qCAAqC;QACrC,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC,kBAAkB,EAAE,CAAC;QAErE,MAAM,CAAC,GAAG,EAAE,CAAC,IAAA,cAAM,EAAC,8BAAC,YAAY,OAAG,CAAC,CAAC,CAAC,OAAO,CAC5C,gEAAgE,CACjE,CAAC;QAEF,UAAU,CAAC,WAAW,EAAE,CAAC;IAC3B,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,2CAA2C,EAAE,GAAG,EAAE;QACnD,IAAA,cAAM,EACJ,8BAAC,+CAA0B,IACzB,WAAW,EAAC,WAAW,EACvB,QAAQ,EAAC,aAAa,EACtB,SAAS,EAAC,UAAU,EACpB,aAAa,EAAC,UAAU;YAExB,8BAAC,qBAAqB,OAAG,CACE,CAC9B,CAAC;QAEF,MAAM,CAAC,cAAM,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC;IAC3E,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import React from \"react\";\nimport { render, screen } from \"@testing-library/react\";\nimport {\n  useV1ComponentContent,\n  V1ComponentContentProvider,\n} from \"./component-renderer\";\n\n// Test component that uses the content context\nconst ContextAwareComponent: React.FC = () => {\n  const context = useV1ComponentContent();\n  return (\n    <div data-testid=\"context-aware\">\n      <span data-testid=\"componentId\">{context.componentId}</span>\n      <span data-testid=\"threadId\">{context.threadId}</span>\n      <span data-testid=\"messageId\">{context.messageId}</span>\n      <span data-testid=\"componentName\">{context.componentName}</span>\n    </div>\n  );\n};\n\ndescribe(\"V1ComponentContentProvider\", () => {\n  it(\"provides context to child components\", () => {\n    render(\n      <V1ComponentContentProvider\n        componentId=\"comp_123\"\n        threadId=\"thread_456\"\n        messageId=\"msg_789\"\n        componentName=\"TestComponent\"\n      >\n        <ContextAwareComponent />\n      </V1ComponentContentProvider>,\n    );\n\n    expect(screen.getByTestId(\"componentId\")).toHaveTextContent(\"comp_123\");\n    expect(screen.getByTestId(\"threadId\")).toHaveTextContent(\"thread_456\");\n    expect(screen.getByTestId(\"messageId\")).toHaveTextContent(\"msg_789\");\n    expect(screen.getByTestId(\"componentName\")).toHaveTextContent(\n      \"TestComponent\",\n    );\n  });\n});\n\ndescribe(\"useV1ComponentContent\", () => {\n  it(\"throws when used outside provider\", () => {\n    function TestConsumer() {\n      useV1ComponentContent();\n      return <div>Should not render</div>;\n    }\n\n    // Suppress React error boundary logs\n    const consoleSpy = jest.spyOn(console, \"error\").mockImplementation();\n\n    expect(() => render(<TestConsumer />)).toThrow(\n      \"useV1ComponentContent must be used within a rendered component\",\n    );\n\n    consoleSpy.mockRestore();\n  });\n\n  it(\"returns context when used within provider\", () => {\n    render(\n      <V1ComponentContentProvider\n        componentId=\"comp_test\"\n        threadId=\"thread_test\"\n        messageId=\"msg_test\"\n        componentName=\"TestComp\"\n      >\n        <ContextAwareComponent />\n      </V1ComponentContentProvider>,\n    );\n\n    expect(screen.getByTestId(\"componentId\")).toHaveTextContent(\"comp_test\");\n  });\n});\n"]}