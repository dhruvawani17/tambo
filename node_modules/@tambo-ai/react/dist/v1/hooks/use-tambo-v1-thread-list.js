"use strict";
"use client";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useTamboV1ThreadList = useTamboV1ThreadList;
/**
 * Thread List Query Hook for v1 API
 *
 * React Query hook for fetching a list of threads.
 */
const react_query_1 = require("@tanstack/react-query");
const tambo_client_provider_1 = require("../../providers/tambo-client-provider");
/**
 * Hook to fetch a list of threads.
 *
 * Uses React Query for caching and automatic refetching.
 * Threads are considered stale after 5 seconds.
 *
 * Returns the thread list directly from the SDK with no transformation.
 * Each thread includes runStatus, metadata, and all SDK fields.
 * @param listOptions - Filtering and pagination options
 * @param queryOptions - Additional React Query options
 * @returns React Query query object with thread list
 * @example
 * ```tsx
 * function ThreadList({ userKey }: { userKey?: string }) {
 *   const { data, isLoading, isError } = useTamboV1ThreadList({
 *     userKey,
 *     limit: "20",
 *   });
 *
 *   if (isLoading) return <Spinner />;
 *   if (isError) return <Error />;
 *
 *   return (
 *     <ul>
 *       {data.threads.map(thread => (
 *         <li key={thread.id}>
 *           {thread.id} - {thread.runStatus}
 *         </li>
 *       ))}
 *       {data.hasMore && <LoadMoreButton cursor={data.nextCursor} />}
 *     </ul>
 *   );
 * }
 * ```
 */
function useTamboV1ThreadList(listOptions, queryOptions) {
    const client = (0, tambo_client_provider_1.useTamboClient)();
    return (0, react_query_1.useQuery)({
        queryKey: ["v1-threads", "list", listOptions],
        queryFn: async () => await client.threads.list(listOptions),
        staleTime: 5000, // Consider stale after 5s
        ...queryOptions,
    });
}
//# sourceMappingURL=use-tambo-v1-thread-list.js.map