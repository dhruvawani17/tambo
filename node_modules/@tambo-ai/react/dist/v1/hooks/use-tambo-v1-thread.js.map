{"version":3,"file":"use-tambo-v1-thread.js","sourceRoot":"","sources":["../../../src/v1/hooks/use-tambo-v1-thread.ts"],"names":[],"mappings":";AAAA,YAAY,CAAC;;AAwCb,4CAeC;AArDD;;;;GAIG;AAEH,uDAAuE;AAEvE,iFAAuE;AAEvE;;;;;;;;;;;;;;;;;;;;;;;;;;;GA2BG;AACH,SAAgB,gBAAgB,CAC9B,QAAgB,EAChB,OAGC;IAED,MAAM,MAAM,GAAG,IAAA,sCAAc,GAAE,CAAC;IAEhC,OAAO,IAAA,sBAAQ,EAAC;QACd,QAAQ,EAAE,CAAC,YAAY,EAAE,QAAQ,CAAC;QAClC,OAAO,EAAE,KAAK,IAAI,EAAE,CAAC,MAAM,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC;QAC5D,SAAS,EAAE,IAAI,EAAE,2CAA2C;QAC5D,GAAG,OAAO;KACX,CAAC,CAAC;AACL,CAAC","sourcesContent":["\"use client\";\n\n/**\n * Thread Query Hook for v1 API\n *\n * React Query hook for fetching a single thread.\n */\n\nimport { useQuery, type UseQueryOptions } from \"@tanstack/react-query\";\nimport type { ThreadRetrieveResponse } from \"@tambo-ai/typescript-sdk/resources/threads/threads\";\nimport { useTamboClient } from \"../../providers/tambo-client-provider\";\n\n/**\n * Hook to fetch a single thread by ID.\n *\n * Uses React Query for caching and automatic refetching.\n * Thread data is considered stale after 1 second (real-time data).\n *\n * Returns the thread with all its messages and current run status directly\n * from the SDK with no transformation.\n * @param threadId - Thread ID to fetch\n * @param options - Additional React Query options\n * @returns React Query query object with thread data\n * @example\n * ```tsx\n * function ThreadView({ threadId }: { threadId: string }) {\n *   const { data: thread, isLoading, isError } = useTamboV1Thread(threadId);\n *\n *   if (isLoading) return <Spinner />;\n *   if (isError) return <Error />;\n *\n *   return (\n *     <div>\n *       <div>Status: {thread.runStatus}</div>\n *       {thread.messages.map(msg => <Message key={msg.id} message={msg} />)}\n *     </div>\n *   );\n * }\n * ```\n */\nexport function useTamboV1Thread(\n  threadId: string,\n  options?: Omit<\n    UseQueryOptions<ThreadRetrieveResponse>,\n    \"queryKey\" | \"queryFn\"\n  >,\n) {\n  const client = useTamboClient();\n\n  return useQuery({\n    queryKey: [\"v1-threads\", threadId],\n    queryFn: async () => await client.threads.retrieve(threadId),\n    staleTime: 1000, // Consider stale after 1s (real-time data)\n    ...options,\n  });\n}\n"]}