{"version":3,"file":"resource-info.js","sourceRoot":"","sources":["../../src/model/resource-info.ts"],"names":[],"mappings":"","sourcesContent":["import type {\n  ListResourcesResult,\n  ReadResourceResult,\n} from \"@modelcontextprotocol/sdk/types.js\";\n\n/**\n * A single resource item from the MCP SDK listResources response.\n * Re-exported for convenience when registering static resources.\n */\nexport type ListResourceItem = ListResourcesResult[\"resources\"][number];\n\n// Re-export the MCP SDK ReadResourceResult type so consumers can depend on\n// a stable SDK surface without importing directly from the MCP package.\nexport type { ReadResourceResult };\n\n/**\n * Configuration for a dynamic resource source that can search and fetch resources.\n *\n * Both `listResources` and `getResource` must be provided together - you cannot\n * provide one without the other.\n * @example\n * ```typescript\n * const resourceSource: ResourceSource = {\n *   listResources: async (search) => {\n *     const allResources = await fetchMyResources();\n *     return search\n *       ? allResources.filter(r => r.name.includes(search))\n *       : allResources;\n *   },\n *   getResource: async (uri, args) => {\n *     const content = await fetchResourceContent(uri, args);\n *     return {\n *       contents: [{\n *         uri,\n *         mimeType: 'text/plain',\n *         text: content,\n *       }],\n *     };\n *   },\n * };\n * ```\n */\nexport interface ResourceSource {\n  /**\n   * Lists available resources, optionally filtered by a search string.\n   * @param search - Optional search string to filter resources\n   * @returns Promise resolving to an array of resource items\n   */\n  listResources: (search?: string) => Promise<ListResourceItem[]>;\n\n  /**\n   * Fetches the content of a specific resource by URI.\n   *\n   * Note: `getResource` may be invoked for URIs that have not previously\n   * been returned by `listResources` (for example, when the caller already\n   * knows a concrete URI). Implementations should handle unknown URIs\n   * gracefully rather than assuming they were listed first.\n   * @param uri - The URI of the resource to fetch\n   * @param args - Optional arguments to pass to the resource fetch\n   * @returns Promise resolving to the resource content\n   */\n  getResource: (\n    uri: string,\n    args?: Record<string, unknown>,\n  ) => Promise<ReadResourceResult>;\n}\n"]}