{"version":3,"file":"validate-input.js","sourceRoot":"","sources":["../../src/model/validate-input.ts"],"names":[],"mappings":";;AAWA,sCAwBC;AA7BD;;;;GAIG;AACH,SAAgB,aAAa,CAAC,KAAa;IACzC,MAAM,OAAO,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;IAE7B,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;QACzB,OAAO;YACL,OAAO,EAAE,KAAK;YACd,KAAK,EAAE,IAAI,KAAK,CAAC,yBAAyB,CAAC;YAC3C,cAAc,EAAE,OAAO;SACxB,CAAC;IACJ,CAAC;IAED,+CAA+C;IAC/C,IAAI,OAAO,CAAC,MAAM,GAAG,KAAK,EAAE,CAAC;QAC3B,OAAO;YACL,OAAO,EAAE,KAAK;YACd,KAAK,EAAE,IAAI,KAAK,CAAC,4CAA4C,CAAC;YAC9D,cAAc,EAAE,OAAO;SACxB,CAAC;IACJ,CAAC;IAED,OAAO;QACL,OAAO,EAAE,IAAI;QACb,cAAc,EAAE,OAAO;KACxB,CAAC;AACJ,CAAC","sourcesContent":["export interface ValidationResult {\n  isValid: boolean;\n  error?: Error;\n  sanitizedInput: string;\n}\n\n/**\n * Validates the input of a message. Makes sure the message is not empty and is not too long.\n * @param input - The input to validate\n * @returns The validation result\n */\nexport function validateInput(input: string): ValidationResult {\n  const trimmed = input.trim();\n\n  if (trimmed.length === 0) {\n    return {\n      isValid: false,\n      error: new Error(\"Message cannot be empty\"),\n      sanitizedInput: trimmed,\n    };\n  }\n\n  // TODO(perf): Make this configurable if needed\n  if (trimmed.length > 10000) {\n    return {\n      isValid: false,\n      error: new Error(\"Message is too long (max 10000 characters)\"),\n      sanitizedInput: trimmed,\n    };\n  }\n\n  return {\n    isValid: true,\n    sanitizedInput: trimmed,\n  };\n}\n"]}