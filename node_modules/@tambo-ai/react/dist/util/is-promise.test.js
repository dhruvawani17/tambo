"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const is_promise_1 = require("../util/is-promise");
describe("isPromise", () => {
    it("should return true for real Promise instances", () => {
        expect((0, is_promise_1.isPromise)(Promise.resolve(1))).toBe(true);
        expect((0, is_promise_1.isPromise)(new Promise(() => { }))).toBe(true);
    });
    it("should return true for custom thenables", () => {
        const thenable = {
            then: () => { },
        };
        expect((0, is_promise_1.isPromise)(thenable)).toBe(true);
    });
    it("should return true for function with a then method", () => {
        const fn = () => { };
        fn.then = () => { };
        expect((0, is_promise_1.isPromise)(fn)).toBe(true);
    });
    it("should return false for null", () => {
        expect((0, is_promise_1.isPromise)(null)).toBe(false);
    });
    it("should return false for primitive values", () => {
        expect((0, is_promise_1.isPromise)(0)).toBe(false);
        expect((0, is_promise_1.isPromise)("text")).toBe(false);
        expect((0, is_promise_1.isPromise)(true)).toBe(false);
        expect((0, is_promise_1.isPromise)(undefined)).toBe(false);
        expect((0, is_promise_1.isPromise)(Symbol("sym"))).toBe(false);
        expect((0, is_promise_1.isPromise)(10n)).toBe(false);
    });
    it("should return false for object without then method", () => {
        expect((0, is_promise_1.isPromise)({})).toBe(false);
        expect((0, is_promise_1.isPromise)({ status: "active" })).toBe(false);
    });
    it("should return false when then exists but is not a function", () => {
        expect((0, is_promise_1.isPromise)({ then: 123 })).toBe(false);
        expect((0, is_promise_1.isPromise)({ then: "not-a-function" })).toBe(false);
    });
    it("should handle Promise-like object created via Promise.resolve", () => {
        const value = Promise.resolve("ok");
        expect((0, is_promise_1.isPromise)(value)).toBe(true);
    });
    it("should not throw for unexpected input types", () => {
        expect(() => (0, is_promise_1.isPromise)(Object.create(null))).not.toThrow();
        expect((0, is_promise_1.isPromise)(Object.create(null))).toBe(false);
    });
});
//# sourceMappingURL=is-promise.test.js.map