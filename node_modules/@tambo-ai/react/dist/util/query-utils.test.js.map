{"version":3,"file":"query-utils.test.js","sourceRoot":"","sources":["../../src/util/query-utils.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { UseMutationResult, UseQueryResult } from \"@tanstack/react-query\";\nimport { combineMutationResults, combineQueryResults } from \"./query-utils\";\n\ntype MutationStatus = \"idle\" | \"pending\" | \"success\" | \"error\";\ntype QueryStatus = \"pending\" | \"success\" | \"error\";\n\ntype MutationOverrides = Omit<\n  Partial<UseMutationResult>,\n  \"status\" | \"isError\" | \"isIdle\" | \"isPending\" | \"isSuccess\"\n>;\n\nfunction createMutationResult(\n  status: MutationStatus,\n  overrides: MutationOverrides = {},\n): UseMutationResult {\n  const base = {\n    data: undefined,\n    error: null,\n    isPaused: false,\n    variables: undefined,\n    context: undefined,\n    failureCount: 0,\n    failureReason: null,\n    submittedAt: 0,\n    mutate: jest.fn(),\n    mutateAsync: jest.fn(),\n    reset: jest.fn(),\n    ...overrides,\n    isError: status === \"error\",\n    isIdle: status === \"idle\",\n    isPending: status === \"pending\",\n    isSuccess: status === \"success\",\n    status,\n  } as UseMutationResult;\n\n  return base;\n}\n\nconst idleMutation = (overrides: MutationOverrides = {}) =>\n  createMutationResult(\"idle\", overrides);\n\nconst pendingMutation = (overrides: MutationOverrides = {}) =>\n  createMutationResult(\"pending\", overrides);\n\nconst successMutation = (overrides: MutationOverrides = {}) =>\n  createMutationResult(\"success\", overrides);\n\nconst errorMutation = (error: Error, overrides: MutationOverrides = {}) =>\n  createMutationResult(\"error\", { ...overrides, error });\n\ntype QueryOverrides = Omit<\n  Partial<UseQueryResult>,\n  \"status\" | \"isError\" | \"isPending\" | \"isSuccess\"\n>;\n\nfunction createQueryResult(\n  status: QueryStatus,\n  overrides: QueryOverrides = {},\n): UseQueryResult {\n  const base = {\n    data: undefined,\n    error: null,\n    isFetched: false,\n    isFetchedAfterMount: false,\n    isFetching: false,\n    isInitialLoading: false,\n    isLoading: false,\n    isLoadingError: false,\n    isPaused: false,\n    isPlaceholderData: false,\n    isRefetchError: false,\n    isRefetching: false,\n    isStale: false,\n    dataUpdatedAt: 0,\n    errorUpdatedAt: 0,\n    errorUpdateCount: 0,\n    failureCount: 0,\n    failureReason: null,\n    fetchStatus: \"idle\",\n    refetch: jest.fn(),\n    promise: Promise.resolve(undefined),\n    isEnabled: true,\n    ...overrides,\n    isError: status === \"error\",\n    isPending: status === \"pending\",\n    isSuccess: status === \"success\",\n    status,\n  } as UseQueryResult;\n\n  return base;\n}\n\nconst pendingQuery = (overrides: QueryOverrides = {}) =>\n  createQueryResult(\"pending\", overrides);\n\nconst successQuery = (overrides: QueryOverrides = {}) =>\n  createQueryResult(\"success\", overrides);\n\nconst errorQuery = (error: Error, overrides: QueryOverrides = {}) =>\n  createQueryResult(\"error\", { ...overrides, error });\n\ndescribe(\"combineMutationResults\", () => {\n  describe(\"status determination\", () => {\n    it(\"returns pending when first mutation is pending\", () => {\n      const resultA = pendingMutation();\n      const resultB = idleMutation();\n\n      const combined = combineMutationResults(resultA, resultB);\n\n      expect(combined.status).toBe(\"pending\");\n      expect(combined.isPending).toBe(true);\n    });\n\n    it(\"returns pending when second mutation is pending\", () => {\n      const resultA = successMutation();\n      const resultB = pendingMutation();\n\n      const combined = combineMutationResults(resultA, resultB);\n\n      expect(combined.status).toBe(\"pending\");\n      expect(combined.isPending).toBe(true);\n    });\n\n    it(\"returns error when first mutation has error (and neither pending)\", () => {\n      const errorA = new Error(\"First error\");\n      const resultA = errorMutation(errorA);\n      const resultB = successMutation();\n\n      const combined = combineMutationResults(resultA, resultB);\n\n      expect(combined.status).toBe(\"error\");\n      expect(combined.isError).toBe(true);\n      expect(combined.error).toBe(errorA);\n    });\n\n    it(\"returns error when second mutation has error (and neither pending)\", () => {\n      const errorB = new Error(\"Second error\");\n      const resultA = successMutation();\n      const resultB = errorMutation(errorB);\n\n      const combined = combineMutationResults(resultA, resultB);\n\n      expect(combined.status).toBe(\"error\");\n      expect(combined.isError).toBe(true);\n      expect(combined.error).toBe(errorB);\n    });\n\n    it(\"returns success when both mutations are successful\", () => {\n      const resultA = successMutation();\n      const resultB = successMutation();\n\n      const combined = combineMutationResults(resultA, resultB);\n\n      expect(combined.status).toBe(\"success\");\n      expect(combined.isSuccess).toBe(true);\n    });\n\n    it(\"returns idle when both mutations are idle\", () => {\n      const resultA = idleMutation();\n      const resultB = idleMutation();\n\n      const combined = combineMutationResults(resultA, resultB);\n\n      expect(combined.status).toBe(\"idle\");\n      expect(combined.isIdle).toBe(true);\n    });\n\n    it(\"returns idle when one is idle and one is success (not both success)\", () => {\n      const resultA = idleMutation();\n      const resultB = successMutation();\n\n      const combined = combineMutationResults(resultA, resultB);\n\n      expect(combined.status).toBe(\"idle\");\n      // isIdle is only true if BOTH are idle\n      expect(combined.isIdle).toBe(false);\n    });\n  });\n\n  describe(\"boolean flags\", () => {\n    it(\"isPending is true if either is pending\", () => {\n      const resultA = pendingMutation();\n      const resultB = idleMutation();\n\n      expect(combineMutationResults(resultA, resultB).isPending).toBe(true);\n      expect(combineMutationResults(resultB, resultA).isPending).toBe(true);\n    });\n\n    it(\"isSuccess is true only if both are successful\", () => {\n      const success = successMutation();\n      const notSuccess = idleMutation();\n\n      expect(combineMutationResults(success, success).isSuccess).toBe(true);\n      expect(combineMutationResults(success, notSuccess).isSuccess).toBe(false);\n      expect(combineMutationResults(notSuccess, success).isSuccess).toBe(false);\n    });\n\n    it(\"isError is true if either has error\", () => {\n      const error = errorMutation(new Error(\"Error A\"));\n      const noError = idleMutation();\n\n      expect(combineMutationResults(error, noError).isError).toBe(true);\n      expect(combineMutationResults(noError, error).isError).toBe(true);\n      expect(combineMutationResults(noError, noError).isError).toBe(false);\n    });\n\n    it(\"isIdle is true only if both are idle\", () => {\n      const idle = idleMutation();\n      const notIdle = pendingMutation();\n\n      expect(combineMutationResults(idle, idle).isIdle).toBe(true);\n      expect(combineMutationResults(idle, notIdle).isIdle).toBe(false);\n      expect(combineMutationResults(notIdle, idle).isIdle).toBe(false);\n    });\n\n    it(\"isPaused is true if either is paused\", () => {\n      const paused = idleMutation({ isPaused: true });\n      const notPaused = idleMutation();\n\n      expect(combineMutationResults(paused, notPaused).isPaused).toBe(true);\n      expect(combineMutationResults(notPaused, paused).isPaused).toBe(true);\n    });\n  });\n\n  describe(\"numeric aggregation\", () => {\n    it(\"sums failureCount from both mutations\", () => {\n      const resultA = idleMutation({ failureCount: 2 });\n      const resultB = idleMutation({ failureCount: 3 });\n\n      expect(combineMutationResults(resultA, resultB).failureCount).toBe(5);\n    });\n\n    it(\"uses first non-null submittedAt\", () => {\n      const resultA = idleMutation({ submittedAt: 1000 });\n      const resultB = idleMutation({ submittedAt: 2000 });\n\n      expect(combineMutationResults(resultA, resultB).submittedAt).toBe(1000);\n    });\n\n    it(\"uses second submittedAt if first is falsy\", () => {\n      const resultA = idleMutation({ submittedAt: 0 });\n      const resultB = idleMutation({ submittedAt: 2000 });\n\n      expect(combineMutationResults(resultA, resultB).submittedAt).toBe(2000);\n    });\n  });\n\n  describe(\"error and failureReason\", () => {\n    it(\"uses first error if present\", () => {\n      const errorA = new Error(\"Error A\");\n      const errorB = new Error(\"Error B\");\n      const resultA = errorMutation(errorA);\n      const resultB = errorMutation(errorB);\n\n      expect(combineMutationResults(resultA, resultB).error).toBe(errorA);\n    });\n\n    it(\"uses second error if first is null\", () => {\n      const errorB = new Error(\"Error B\");\n      const resultA = idleMutation();\n      const resultB = errorMutation(errorB);\n\n      expect(combineMutationResults(resultA, resultB).error).toBe(errorB);\n    });\n\n    it(\"uses first failureReason if present\", () => {\n      const reasonA = new Error(\"Reason A\");\n      const reasonB = new Error(\"Reason B\");\n      const resultA = idleMutation({ failureReason: reasonA });\n      const resultB = idleMutation({ failureReason: reasonB });\n\n      expect(combineMutationResults(resultA, resultB).failureReason).toBe(\n        reasonA,\n      );\n    });\n  });\n});\n\ndescribe(\"combineQueryResults\", () => {\n  describe(\"status determination\", () => {\n    it(\"returns pending when first query is pending\", () => {\n      const resultA = pendingQuery();\n      const resultB = successQuery();\n\n      const combined = combineQueryResults(resultA, resultB);\n\n      expect(combined.status).toBe(\"pending\");\n      expect(combined.isPending).toBe(true);\n    });\n\n    it(\"returns pending when second query is pending\", () => {\n      const resultA = successQuery();\n      const resultB = pendingQuery();\n\n      const combined = combineQueryResults(resultA, resultB);\n\n      expect(combined.status).toBe(\"pending\");\n    });\n\n    it(\"returns error when first query has error (and neither pending)\", () => {\n      const errorA = new Error(\"Query error\");\n      const resultA = errorQuery(errorA);\n      const resultB = successQuery();\n\n      const combined = combineQueryResults(resultA, resultB);\n\n      expect(combined.status).toBe(\"error\");\n      expect(combined.isError).toBe(true);\n    });\n\n    it(\"returns success when both queries are successful\", () => {\n      const resultA = successQuery();\n      const resultB = successQuery();\n\n      const combined = combineQueryResults(resultA, resultB);\n\n      expect(combined.status).toBe(\"success\");\n      expect(combined.isSuccess).toBe(true);\n    });\n\n    it(\"returns pending as fallback when neither pending, error, nor both success\", () => {\n      // This is an edge case - one success, one not (but not error or pending)\n      const resultA = successQuery();\n      const resultB = {\n        ...pendingQuery(),\n        isPending: false,\n        isSuccess: false,\n        isError: false,\n      } as unknown as UseQueryResult;\n\n      const combined = combineQueryResults(resultA, resultB);\n\n      expect(combined.status).toBe(\"pending\");\n    });\n  });\n\n  describe(\"fetchStatus determination\", () => {\n    it(\"returns fetching when either is fetching\", () => {\n      const resultA = pendingQuery({\n        isFetching: true,\n        fetchStatus: \"fetching\",\n      });\n      const resultB = pendingQuery({\n        isFetching: false,\n        fetchStatus: \"idle\",\n      });\n\n      expect(combineQueryResults(resultA, resultB).fetchStatus).toBe(\n        \"fetching\",\n      );\n      expect(combineQueryResults(resultB, resultA).fetchStatus).toBe(\n        \"fetching\",\n      );\n    });\n\n    it(\"returns paused when either is paused (and neither fetching)\", () => {\n      const resultA = pendingQuery({\n        isPaused: true,\n        isFetching: false,\n        fetchStatus: \"paused\",\n      });\n      const resultB = pendingQuery({\n        isPaused: false,\n        isFetching: false,\n        fetchStatus: \"idle\",\n      });\n\n      expect(combineQueryResults(resultA, resultB).fetchStatus).toBe(\"paused\");\n    });\n\n    it(\"returns idle when neither fetching nor paused\", () => {\n      const resultA = pendingQuery({\n        isFetching: false,\n        isPaused: false,\n        fetchStatus: \"idle\",\n      });\n      const resultB = pendingQuery({\n        isFetching: false,\n        isPaused: false,\n        fetchStatus: \"idle\",\n      });\n\n      expect(combineQueryResults(resultA, resultB).fetchStatus).toBe(\"idle\");\n    });\n  });\n\n  describe(\"boolean flags\", () => {\n    it(\"isLoading is true if either is loading\", () => {\n      const loading = pendingQuery({ isLoading: true });\n      const notLoading = pendingQuery({ isLoading: false });\n\n      expect(combineQueryResults(loading, notLoading).isLoading).toBe(true);\n      expect(combineQueryResults(notLoading, notLoading).isLoading).toBe(false);\n    });\n\n    it(\"isFetched is true only if both are fetched\", () => {\n      const fetched = pendingQuery({ isFetched: true });\n      const notFetched = pendingQuery({ isFetched: false });\n\n      expect(combineQueryResults(fetched, fetched).isFetched).toBe(true);\n      expect(combineQueryResults(fetched, notFetched).isFetched).toBe(false);\n    });\n\n    it(\"isFetchedAfterMount is true only if both are fetched after mount\", () => {\n      const fetched = pendingQuery({ isFetchedAfterMount: true });\n      const notFetched = pendingQuery({ isFetchedAfterMount: false });\n\n      expect(combineQueryResults(fetched, fetched).isFetchedAfterMount).toBe(\n        true,\n      );\n      expect(combineQueryResults(fetched, notFetched).isFetchedAfterMount).toBe(\n        false,\n      );\n    });\n\n    it(\"isInitialLoading is true if either is initial loading\", () => {\n      const loading = pendingQuery({ isInitialLoading: true });\n      const notLoading = pendingQuery({ isInitialLoading: false });\n\n      expect(combineQueryResults(loading, notLoading).isInitialLoading).toBe(\n        true,\n      );\n    });\n\n    it(\"isLoadingError is true if either has loading error\", () => {\n      const error = pendingQuery({ isLoadingError: true });\n      const noError = pendingQuery({ isLoadingError: false });\n\n      expect(combineQueryResults(error, noError).isLoadingError).toBe(true);\n    });\n\n    it(\"isRefetchError is true if either has refetch error\", () => {\n      const error = pendingQuery({ isRefetchError: true });\n      const noError = pendingQuery({ isRefetchError: false });\n\n      expect(combineQueryResults(error, noError).isRefetchError).toBe(true);\n    });\n\n    it(\"isPlaceholderData is true if either has placeholder data\", () => {\n      const placeholder = pendingQuery({ isPlaceholderData: true });\n      const noPlaceholder = pendingQuery({ isPlaceholderData: false });\n\n      expect(\n        combineQueryResults(placeholder, noPlaceholder).isPlaceholderData,\n      ).toBe(true);\n    });\n\n    it(\"isStale is true if either is stale\", () => {\n      const stale = pendingQuery({ isStale: true });\n      const notStale = pendingQuery({ isStale: false });\n\n      expect(combineQueryResults(stale, notStale).isStale).toBe(true);\n    });\n\n    it(\"isRefetching is true if either is refetching\", () => {\n      const refetching = pendingQuery({ isRefetching: true });\n      const notRefetching = pendingQuery({ isRefetching: false });\n\n      expect(combineQueryResults(refetching, notRefetching).isRefetching).toBe(\n        true,\n      );\n    });\n\n    it(\"isEnabled is true only if both are enabled\", () => {\n      const enabled = pendingQuery({ isEnabled: true });\n      const disabled = pendingQuery({ isEnabled: false });\n\n      expect(combineQueryResults(enabled, enabled).isEnabled).toBe(true);\n      expect(combineQueryResults(enabled, disabled).isEnabled).toBe(false);\n    });\n  });\n\n  describe(\"numeric aggregation\", () => {\n    it(\"sums failureCount from both queries\", () => {\n      const resultA = pendingQuery({ failureCount: 1 });\n      const resultB = pendingQuery({ failureCount: 4 });\n\n      expect(combineQueryResults(resultA, resultB).failureCount).toBe(5);\n    });\n\n    it(\"sums errorUpdateCount from both queries\", () => {\n      const resultA = pendingQuery({ errorUpdateCount: 2 });\n      const resultB = pendingQuery({ errorUpdateCount: 3 });\n\n      expect(combineQueryResults(resultA, resultB).errorUpdateCount).toBe(5);\n    });\n\n    it(\"uses max dataUpdatedAt\", () => {\n      const resultA = pendingQuery({ dataUpdatedAt: 1000 });\n      const resultB = pendingQuery({ dataUpdatedAt: 2000 });\n\n      expect(combineQueryResults(resultA, resultB).dataUpdatedAt).toBe(2000);\n      expect(combineQueryResults(resultB, resultA).dataUpdatedAt).toBe(2000);\n    });\n\n    it(\"uses max errorUpdatedAt\", () => {\n      const resultA = pendingQuery({ errorUpdatedAt: 500 });\n      const resultB = pendingQuery({ errorUpdatedAt: 1500 });\n\n      expect(combineQueryResults(resultA, resultB).errorUpdatedAt).toBe(1500);\n    });\n  });\n\n  describe(\"error and failureReason\", () => {\n    it(\"uses first error if present\", () => {\n      const errorA = new Error(\"Error A\");\n      const errorB = new Error(\"Error B\");\n      const resultA = errorQuery(errorA);\n      const resultB = errorQuery(errorB);\n\n      expect(combineQueryResults(resultA, resultB).error).toBe(errorA);\n    });\n\n    it(\"uses second error if first is null\", () => {\n      const errorB = new Error(\"Error B\");\n      const resultA = pendingQuery();\n      const resultB = errorQuery(errorB);\n\n      expect(combineQueryResults(resultA, resultB).error).toBe(errorB);\n    });\n\n    it(\"uses first failureReason if present\", () => {\n      const reasonA = new Error(\"Reason A\");\n      const reasonB = new Error(\"Reason B\");\n      const resultA = pendingQuery({ failureReason: reasonA });\n      const resultB = pendingQuery({ failureReason: reasonB });\n\n      expect(combineQueryResults(resultA, resultB).failureReason).toBe(reasonA);\n    });\n  });\n});\n"]}