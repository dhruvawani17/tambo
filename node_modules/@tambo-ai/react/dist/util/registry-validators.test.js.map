{"version":3,"file":"registry-validators.test.js","sourceRoot":"","sources":["../../src/util/registry-validators.test.ts"],"names":[],"mappings":"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","sourcesContent":["import { z } from \"zod/v3\";\nimport type { TamboComponent, TamboTool } from \"../model/component-metadata\";\nimport {\n  validateAndPrepareComponent,\n  validateTool,\n  validateToolAssociation,\n} from \"./registry-validators\";\n\ndescribe(\"validateTool\", () => {\n  it(\"should validate tool with valid name\", () => {\n    const tool: TamboTool = {\n      name: \"valid-tool-name\",\n      description: \"A valid tool\",\n      tool: () => \"result\",\n      inputSchema: z.object({ query: z.string() }),\n      outputSchema: z.string(),\n    };\n\n    expect(() => validateTool(tool)).not.toThrow();\n  });\n\n  it(\"should throw when tool name contains invalid characters\", () => {\n    const tool: TamboTool = {\n      name: \"invalid tool name\",\n      description: \"A tool\",\n      tool: () => \"result\",\n      inputSchema: z.object({ query: z.string() }),\n      outputSchema: z.string(),\n    };\n\n    expect(() => validateTool(tool)).toThrow(\n      'tool \"invalid tool name\" must only contain letters, numbers, underscores, and hyphens.',\n    );\n  });\n\n  it(\"should throw when tool name contains special characters\", () => {\n    const tool: TamboTool = {\n      name: \"tool@name\",\n      description: \"A tool\",\n      tool: () => \"result\",\n      inputSchema: z.object({ query: z.string() }),\n      outputSchema: z.string(),\n    };\n\n    expect(() => validateTool(tool)).toThrow(\n      'tool \"tool@name\" must only contain letters, numbers, underscores, and hyphens.',\n    );\n  });\n\n  it(\"should throw when deprecated toolSchema is used\", () => {\n    const tool = {\n      name: \"deprecated-tool\",\n      description: \"A tool using deprecated API\",\n      tool: () => \"result\",\n      toolSchema: z.function().args().returns(z.string()),\n    } as unknown as TamboTool;\n\n    expect(() => validateTool(tool)).toThrow(\n      'Tool \"deprecated-tool\" uses deprecated \"toolSchema\" property.',\n    );\n    expect(() => validateTool(tool)).toThrow(\n      'Migrate to \"inputSchema\" and \"outputSchema\" properties.',\n    );\n  });\n\n  it(\"should throw when tool is not an object\", () => {\n    expect(() => validateTool(null)).toThrow(\"Tool must be an object\");\n    expect(() => validateTool(undefined)).toThrow(\"Tool must be an object\");\n    expect(() => validateTool(\"string\")).toThrow(\"Tool must be an object\");\n    expect(() => validateTool(42)).toThrow(\"Tool must be an object\");\n  });\n\n  it(\"should throw when tool name is missing\", () => {\n    const tool = {\n      description: \"A tool\",\n      tool: () => \"result\",\n      inputSchema: z.object({}),\n      outputSchema: z.string(),\n    };\n\n    expect(() => validateTool(tool)).toThrow(\n      \"Tool must have a 'name' property of type string\",\n    );\n  });\n\n  it(\"should throw when tool description is missing\", () => {\n    const tool = {\n      name: \"my-tool\",\n      tool: () => \"result\",\n      inputSchema: z.object({}),\n      outputSchema: z.string(),\n    };\n\n    expect(() => validateTool(tool)).toThrow(\n      \"Tool \\\"my-tool\\\" must have a 'description' property of type string\",\n    );\n  });\n\n  it(\"should throw when tool function is missing\", () => {\n    const tool = {\n      name: \"my-tool\",\n      description: \"A tool\",\n      inputSchema: z.object({}),\n      outputSchema: z.string(),\n    };\n\n    expect(() => validateTool(tool)).toThrow(\n      \"Tool \\\"my-tool\\\" must have a 'tool' property of type function\",\n    );\n  });\n\n  it(\"should throw when inputSchema is missing\", () => {\n    const tool = {\n      name: \"my-tool\",\n      description: \"A tool\",\n      tool: () => \"result\",\n      outputSchema: z.string(),\n    };\n\n    expect(() => validateTool(tool)).toThrow(\n      \"Tool \\\"my-tool\\\" must have an 'inputSchema' property\",\n    );\n  });\n\n  it(\"should throw when outputSchema is missing\", () => {\n    const tool = {\n      name: \"my-tool\",\n      description: \"A tool\",\n      tool: () => \"result\",\n      inputSchema: z.object({}),\n    };\n\n    expect(() => validateTool(tool)).toThrow(\n      \"Tool \\\"my-tool\\\" must have an 'outputSchema' property\",\n    );\n  });\n\n  it(\"should throw when inputSchema contains z.record()\", () => {\n    const tool: TamboTool = {\n      name: \"invalid-tool\",\n      description: \"A tool\",\n      tool: () => \"result\",\n      inputSchema: z.object({\n        metadata: z.record(z.string()),\n      }),\n      outputSchema: z.string(),\n    };\n\n    expect(() => validateTool(tool)).toThrow(\n      'Record types (objects with dynamic keys) are not supported in inputSchema of tool \"invalid-tool\".',\n    );\n  });\n\n  it(\"should validate tool with inputSchema (new interface)\", () => {\n    const tool: TamboTool = {\n      name: \"tool-with-input-schema\",\n      description: \"A tool with input schema\",\n      tool: (input: { query: string }) => input.query,\n      inputSchema: z.object({\n        query: z.string(),\n      }),\n      outputSchema: z.string(),\n    };\n\n    expect(() => validateTool(tool)).not.toThrow();\n  });\n\n  it(\"should throw when inputSchema is not an object schema (string)\", () => {\n    const tool: TamboTool = {\n      name: \"tool-with-string-schema\",\n      description: \"A tool with invalid schema\",\n      tool: () => \"result\",\n      inputSchema: z.string(),\n      outputSchema: z.string(),\n    };\n\n    expect(() => validateTool(tool)).toThrow(\n      'inputSchema of tool \"tool-with-string-schema\" must be an object schema',\n    );\n  });\n\n  it(\"should throw when inputSchema is not an object schema (number)\", () => {\n    const tool: TamboTool = {\n      name: \"tool-with-number-schema\",\n      description: \"A tool with invalid schema\",\n      tool: () => \"result\",\n      inputSchema: z.number(),\n      outputSchema: z.string(),\n    };\n\n    expect(() => validateTool(tool)).toThrow(\n      'inputSchema of tool \"tool-with-number-schema\" must be an object schema',\n    );\n  });\n\n  it(\"should throw when inputSchema is not an object schema (array)\", () => {\n    const tool: TamboTool = {\n      name: \"tool-with-array-schema\",\n      description: \"A tool with invalid schema\",\n      tool: () => \"result\",\n      inputSchema: z.array(z.string()),\n      outputSchema: z.string(),\n    };\n\n    expect(() => validateTool(tool)).toThrow(\n      'inputSchema of tool \"tool-with-array-schema\" must be an object schema',\n    );\n  });\n\n  it(\"should throw when inputSchema JSON Schema is not an object type\", () => {\n    const tool: TamboTool = {\n      name: \"tool-with-json-string-schema\",\n      description: \"A tool with invalid JSON schema\",\n      tool: () => \"result\",\n      inputSchema: { type: \"string\" },\n      outputSchema: { type: \"string\" },\n    };\n\n    expect(() => validateTool(tool)).toThrow(\n      'inputSchema of tool \"tool-with-json-string-schema\" must be an object schema',\n    );\n  });\n\n  it(\"should accept JSON Schema with object type\", () => {\n    const tool: TamboTool = {\n      name: \"tool-with-json-object-schema\",\n      description: \"A tool with valid JSON schema\",\n      tool: () => \"result\",\n      inputSchema: {\n        type: \"object\",\n        properties: {\n          query: { type: \"string\" },\n        },\n      },\n      outputSchema: { type: \"string\" },\n    };\n\n    expect(() => validateTool(tool)).not.toThrow();\n  });\n\n  it(\"should accept JSON Schema with properties but no explicit type\", () => {\n    const tool: TamboTool = {\n      name: \"tool-with-implicit-object-schema\",\n      description: \"A tool with implicit object schema\",\n      tool: () => \"result\",\n      inputSchema: {\n        properties: {\n          query: { type: \"string\" },\n        },\n      },\n      outputSchema: { type: \"string\" },\n    };\n\n    expect(() => validateTool(tool)).not.toThrow();\n  });\n\n  describe(\"maxCalls validation\", () => {\n    it(\"should throw when maxCalls is a negative integer\", () => {\n      const tool: TamboTool = {\n        name: \"tool-with-negative-maxcalls\",\n        description: \"A tool with negative maxCalls\",\n        tool: () => \"result\",\n        inputSchema: z.object({ query: z.string() }),\n        outputSchema: z.string(),\n        maxCalls: -1,\n      };\n\n      expect(() => validateTool(tool)).toThrow(\n        'maxCalls for tool \"tool-with-negative-maxcalls\" must be a positive integer',\n      );\n    });\n\n    it(\"should throw when maxCalls is a decimal number\", () => {\n      const tool: TamboTool = {\n        name: \"tool-with-decimal-maxcalls\",\n        description: \"A tool with decimal maxCalls\",\n        tool: () => \"result\",\n        inputSchema: z.object({ query: z.string() }),\n        outputSchema: z.string(),\n        maxCalls: 1.5,\n      };\n\n      expect(() => validateTool(tool)).toThrow(\n        'maxCalls for tool \"tool-with-decimal-maxcalls\" must be a positive integer',\n      );\n    });\n\n    it(\"should throw when maxCalls is NaN\", () => {\n      const tool: TamboTool = {\n        name: \"tool-with-nan-maxcalls\",\n        description: \"A tool with NaN maxCalls\",\n        tool: () => \"result\",\n        inputSchema: z.object({ query: z.string() }),\n        outputSchema: z.string(),\n        maxCalls: NaN,\n      };\n\n      expect(() => validateTool(tool)).toThrow(\n        'maxCalls for tool \"tool-with-nan-maxcalls\" must be a positive integer',\n      );\n    });\n\n    it(\"should accept tool with maxCalls as zero\", () => {\n      const tool: TamboTool = {\n        name: \"tool-with-zero-maxcalls\",\n        description: \"A tool with zero maxCalls\",\n        tool: () => \"result\",\n        inputSchema: z.object({ query: z.string() }),\n        outputSchema: z.string(),\n        maxCalls: 0,\n      };\n\n      expect(() => validateTool(tool)).not.toThrow();\n    });\n\n    it(\"should accept tool with explicitly undefined maxCalls\", () => {\n      const tool: TamboTool = {\n        name: \"tool-with-undefined-maxcalls\",\n        description: \"A tool with undefined maxCalls\",\n        tool: () => \"result\",\n        inputSchema: z.object({ query: z.string() }),\n        outputSchema: z.string(),\n        maxCalls: undefined,\n      };\n\n      expect(() => validateTool(tool)).not.toThrow();\n    });\n  });\n});\n\ndescribe(\"validateAndPrepareComponent\", () => {\n  it(\"should validate component with propsSchema\", () => {\n    const component: TamboComponent = {\n      name: \"valid-component\",\n      description: \"A valid component\",\n      component: () => null,\n      propsSchema: z.object({\n        title: z.string(),\n        count: z.number(),\n      }),\n    };\n\n    const result = validateAndPrepareComponent(component);\n\n    expect(result.props).toBeDefined();\n    expect(result.props.type).toBe(\"object\");\n    expect(result.props.properties).toBeDefined();\n  });\n\n  it(\"should validate component with propsDefinition\", () => {\n    const component: TamboComponent = {\n      name: \"valid-component\",\n      description: \"A valid component\",\n      component: () => null,\n      propsDefinition: {\n        type: \"object\",\n        properties: {\n          title: { type: \"string\" },\n        },\n      },\n    };\n\n    const result = validateAndPrepareComponent(component);\n\n    expect(result.props).toEqual(component.propsDefinition);\n  });\n\n  it(\"should throw when component name contains invalid characters\", () => {\n    const component: TamboComponent = {\n      name: \"invalid component name\",\n      description: \"A component\",\n      component: () => null,\n      propsSchema: z.object({}),\n    };\n\n    expect(() => validateAndPrepareComponent(component)).toThrow(\n      'component \"invalid component name\" must only contain letters, numbers, underscores, and hyphens.',\n    );\n  });\n\n  it(\"should throw when neither propsSchema nor propsDefinition is provided\", () => {\n    const component: TamboComponent = {\n      name: \"component-without-props\",\n      description: \"A component\",\n      component: () => null,\n    };\n\n    expect(() => validateAndPrepareComponent(component)).toThrow(\n      \"Component component-without-props must have either propsSchema (recommended) or propsDefinition defined\",\n    );\n  });\n\n  it(\"should throw when both propsSchema and propsDefinition are provided\", () => {\n    const component: TamboComponent = {\n      name: \"component-with-both\",\n      description: \"A component\",\n      component: () => null,\n      propsSchema: z.object({}),\n      propsDefinition: {\n        type: \"object\",\n        properties: {},\n      },\n    };\n\n    expect(() => validateAndPrepareComponent(component)).toThrow(\n      \"Component component-with-both cannot have both propsSchema and propsDefinition defined. Use only one. We recommend using propsSchema.\",\n    );\n  });\n\n  it(\"should throw when propsSchema contains z.record()\", () => {\n    const component: TamboComponent = {\n      name: \"component-with-record\",\n      description: \"A component\",\n      component: () => null,\n      propsSchema: z.object({\n        metadata: z.record(z.string()),\n      }),\n    };\n\n    expect(() => validateAndPrepareComponent(component)).toThrow(\n      'Record types (objects with dynamic keys) are not supported in propsSchema of component \"component-with-record\".',\n    );\n  });\n\n  it(\"should convert Zod schema to JSON Schema\", () => {\n    const component: TamboComponent = {\n      name: \"component-with-zod\",\n      description: \"A component\",\n      component: () => null,\n      propsSchema: z.object({\n        title: z.string().describe(\"The title\"),\n        count: z.number().int().min(0),\n        tags: z.array(z.string()),\n      }),\n    };\n\n    const result = validateAndPrepareComponent(component);\n\n    expect(result.props).toBeDefined();\n    expect(result.props.type).toBe(\"object\");\n    expect((result.props as any).properties).toBeDefined();\n    expect((result.props as any).properties.title).toBeDefined();\n    expect((result.props as any).properties.count).toBeDefined();\n    expect((result.props as any).properties.tags).toBeDefined();\n  });\n\n  it(\"should handle complex Zod schema\", () => {\n    const component: TamboComponent = {\n      name: \"component-complex\",\n      description: \"A component\",\n      component: () => null,\n      propsSchema: z.object({\n        user: z.object({\n          name: z.string(),\n          age: z.number(),\n        }),\n        items: z.array(\n          z.object({\n            id: z.string(),\n            value: z.number(),\n          }),\n        ),\n      }),\n    };\n\n    const result = validateAndPrepareComponent(component);\n\n    expect(result.props).toBeDefined();\n    expect(result.props.type).toBe(\"object\");\n  });\n\n  it(\"should allow JSON Schema (non-Zod) without validation\", () => {\n    const component: TamboComponent = {\n      name: \"component-json-schema\",\n      description: \"A component\",\n      component: () => null,\n      propsSchema: {\n        type: \"object\",\n        properties: {\n          title: { type: \"string\" },\n        },\n      },\n    };\n\n    const result = validateAndPrepareComponent(component);\n\n    expect(result.props).toEqual(component.propsSchema);\n  });\n});\n\ndescribe(\"validateToolAssociation\", () => {\n  it(\"should validate valid tool association\", () => {\n    expect(() =>\n      validateToolAssociation(\"valid-component\", \"valid-tool\", true, true),\n    ).not.toThrow();\n  });\n\n  it(\"should throw when component name is invalid\", () => {\n    expect(() =>\n      validateToolAssociation(\"invalid component\", \"valid-tool\", true, true),\n    ).toThrow(\n      'component \"invalid component\" must only contain letters, numbers, underscores, and hyphens.',\n    );\n  });\n\n  it(\"should throw when tool name is invalid\", () => {\n    expect(() =>\n      validateToolAssociation(\"valid-component\", \"invalid tool\", true, true),\n    ).toThrow(\n      'tool \"invalid tool\" must only contain letters, numbers, underscores, and hyphens.',\n    );\n  });\n\n  it(\"should throw when component does not exist\", () => {\n    expect(() =>\n      validateToolAssociation(\"missing-component\", \"valid-tool\", false, true),\n    ).toThrow(\"Component missing-component not found in registry\");\n  });\n\n  it(\"should throw when tool does not exist\", () => {\n    expect(() =>\n      validateToolAssociation(\"valid-component\", \"missing-tool\", true, false),\n    ).toThrow(\"Tool missing-tool not found in registry\");\n  });\n\n  it(\"should throw when both component and tool do not exist\", () => {\n    expect(() => {\n      validateToolAssociation(\n        \"missing-component\",\n        \"missing-tool\",\n        false,\n        false,\n      );\n    }).toThrow(\"Component missing-component not found in registry\");\n  });\n\n  it(\"should validate with valid names containing underscores and hyphens\", () => {\n    expect(() =>\n      validateToolAssociation(\"my_component-123\", \"my_tool-456\", true, true),\n    ).not.toThrow();\n  });\n});\n"]}